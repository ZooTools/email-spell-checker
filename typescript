Script started on Fri Oct 21 18:19:51 2022
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[?2004l
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[7mnpm link[27m[8D[27mn[27mp[27mm[27m [27ml[27mi[27mn[27mk[?2004l
[?25l([100;90mâ ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚[0m) â  idealTree:lib: [7msill[0m [35midealTree[0m buildDeps[0m[K([107;97m##################[0m) â  reify:@zootools/email-spell-checker: [7msill[0m [35maudit[0m bulk request { '@zootools/email-spell-check[0m[K([107;97m##################[0m) â  reify:@zootools/email-spell-checker: [7msill[0m [35maudit[0m bulk request { '@zootools/email-spell-check[0m[K([107;97m##################[0m) â ¦ reify:@zootools/email-spell-checker: [7msill[0m [35maudit[0m bulk request { '@zootools/email-spell-check[0m[K([107;97m##################[0m) â ¦ reify:@zootools/email-spell-checker: [7msill[0m [35maudit[0m bulk request { '@zootools/email-spell-check[0m[K([107;97m##################[0m) â ¦ reify:@zootools/email-spell-checker: [7msill[0m [35maudit[0m bulk request { '@zootools/email-spell-check[0m[K([107;97m##################[0m) â ¦ reify:@zootools/email-spell-checker: [7msill[0m [35maudit[0m bulk request { '@zootools/email-spell-check[0m[K([107;97m##################[0m) â ¦ reify:@zootools/email-spell-checker: [7msill[0m [35maudit[0m bulk request { '@zootools/email-spell-check[0m[K([107;97m##################[0m) â ¦ reify:@zootools/email-spell-checker: [7msill[0m [35maudit[0m bulk request { '@zootools/email-spell-check[0m[K([107;97m##################[0m) â ¦ reify:@zootools/email-spell-checker: [7msill[0m [35maudit[0m bulk request { '@zootools/email-spell-check[0m[K[K[?25h
added 1 package, and audited 3 packages in 575ms

found [32m[1m0[22m[39m vulnerabilities
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[?2004l
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[H[2J[0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K
bck-i-search: _[K[A[28Cnpm li[4mn[24mk[1B[37Dn_[A[33C      [24m  [1B[37D_ [A[27Cgit commit -m "feat: add ini[4mt[24mial version"[1B[70Dt_[A[55C[28D[4mT[4mE[24mLNET smtp.sendgrid.net 25 [24m             [1B[69De_[A[26C[24mn[24mpm run [4mt[4me[4ms[24mt               [1B[54Ds_[A[33C[2C[4ms[4mt[24m[1B[38Dt_[A[32C[24mt[24me[24ms[24mt[1B[K[A[51C[?2004l[1B
> @zootools/email-spell-checker@1.2.0 test
> jest --coverage

[1m[2mDetermining test suites to run...[22m[22m[999D[K
[K[1A[999D[K
[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1ABrowserslist: caniuse-lite is outdated. Please run:
  npx browserslist@latest --update-db
  Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[0m[7m[1m[32m PASS [39m[22m[27m[0m ]8;;file:///Users/jorgeferreiro/Documents/GitHub/mail-spell-checker/test/index.spec.ts[2mtest/[22m[1mindex.spec.ts[22m]8;;

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A  mailSpellChecker

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    run

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mcalls the 'suggested' callback with the element and result when there's a suggestion (2 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mcalls the 'empty' callback with the element when there's no suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mcalls the 'empty' callback with the element when email is empty (1 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mreturns the result when 'suggested' callback is not defined (1 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mtakes in an array of specified domains[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    parseEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mreturns a hash of the address, the domain, and the top-level domain (1 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2msplits RFC compliant emails[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mreturns false for email addresses that are not RFC compliant (1 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mtrims spaces from the start and end of the string[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      findClosestDomain

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [32mâœ“[39m [2mreturns the most similar domain (1 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [32mâœ“[39m [2mreturns the most similar second-level domain (1 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [32mâœ“[39m [2mreturns the most similar top-level domain (1 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    encodeEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mescapes the element's value[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mallows valid special characters[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K[1m[2mRunning coverage on untested files...[22m[22m[999D[K------------------------------|---------|----------|---------|---------|----------------------
File                          | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s    
------------------------------|---------|----------|---------|---------|----------------------
[32;1mAll files                    [0m | [32;1m  87.83[0m | [33;1m   78.08[0m | [32;1m    100[0m | [32;1m  87.27[0m | [31;1m                    [0m 
[31;1m src                         [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m                    [0m 
[31;1m  index.ts                   [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m1-9                 [0m 
[32;1m src/lib                     [0m | [32;1m  83.72[0m | [33;1m   68.42[0m | [32;1m    100[0m | [32;1m  83.72[0m | [31;1m                    [0m 
[32;1m  check-mail.ts              [0m | [32;1m    100[0m | [32;1m      90[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m8                   [0m 
[33;1m  suggest-email.ts           [0m | [33;1m  77.42[0m | [33;1m   60.71[0m | [32;1m    100[0m | [33;1m  77.42[0m | [31;1m28,42,75-79,88-92,96[0m 
[32;1m src/lib/config              [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
[32;1m  index.ts                   [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
[32;1m src/lib/helpers             [0m | [32;1m  95.08[0m | [32;1m   88.57[0m | [32;1m    100[0m | [32;1m  94.83[0m | [31;1m                    [0m 
[32;1m  asser-valid-user-options.ts[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
[33;1m  assert.ts                  [0m | [33;1m  66.67[0m | [33;1m      50[0m | [32;1m    100[0m | [33;1m  66.67[0m | [31;1m3                   [0m 
[32;1m  distance-function.ts       [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
[32;1m  encode-email.ts            [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
[32;1m  find-closest-domain.ts     [0m | [32;1m  94.12[0m | [32;1m   84.62[0m | [32;1m    100[0m | [32;1m  93.75[0m | [31;1m19                  [0m 
[32;1m  get-options.ts             [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
[32;1m  parse-email.ts             [0m | [32;1m     96[0m | [32;1m    87.5[0m | [32;1m    100[0m | [32;1m  95.65[0m | [31;1m30                  [0m 
[32;1m  trim.ts                    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
------------------------------|---------|----------|---------|---------|----------------------
[1mTest Suites: [22m[1m[32m1 passed[39m[22m, 1 total
[1mTests:       [22m[1m[32m14 passed[39m[22m, 14 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        0.834 s, estimated 1 s
[2mRan all test suites[22m[2m.[22m
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[?2004l
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[H[2J[0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [Knpm run test[?2004l

> @zootools/email-spell-checker@1.2.0 test
> jest --coverage

[1m[2mDetermining test suites to run...[22m[22m[999D[K
[K[1A[999D[K
[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[0m[7m[1m[32m PASS [39m[22m[27m[0m ]8;;file:///Users/jorgeferreiro/Documents/GitHub/mail-spell-checker/test/index.spec.ts[2mtest/[22m[1mindex.spec.ts[22m]8;;

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A  mailSpellChecker

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    run

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mcalls the 'suggested' callback with the element and result when there's a suggestion (2 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mcalls the 'empty' callback with the element when there's no suggestion (2 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mcalls the 'empty' callback with the element when email is empty[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mreturns the result when 'suggested' callback is not defined (2 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mtakes in an array of specified domains[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    parseEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mreturns a hash of the address, the domain, and the top-level domain (1 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2msplits RFC compliant emails (2 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mreturns false for email addresses that are not RFC compliant (1 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mtrims spaces from the start and end of the string (1 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      findClosestDomain

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [32mâœ“[39m [2mreturns the most similar domain (1 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [32mâœ“[39m [2mreturns the most similar second-level domain (13 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [32mâœ“[39m [2mreturns the most similar top-level domain (1 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    encodeEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mescapes the element's value[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mallows valid special characters (1 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K  [2mconsole.log[22m
    yahoo
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36mtest/index.spec.ts[39m[0m[2m:235:17)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K[1m[2mRunning coverage on untested files...[22m[22m[999D[K------------------------------|---------|----------|---------|---------|----------------------
File                          | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s    
------------------------------|---------|----------|---------|---------|----------------------
[32;1mAll files                    [0m | [32;1m  87.83[0m | [33;1m   78.08[0m | [32;1m    100[0m | [32;1m  87.27[0m | [31;1m                    [0m 
[31;1m src                         [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m                    [0m 
[31;1m  index.ts                   [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m1-9                 [0m 
[32;1m src/lib                     [0m | [32;1m  83.72[0m | [33;1m   68.42[0m | [32;1m    100[0m | [32;1m  83.72[0m | [31;1m                    [0m 
[32;1m  check-mail.ts              [0m | [32;1m    100[0m | [32;1m      90[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m8                   [0m 
[33;1m  suggest-email.ts           [0m | [33;1m  77.42[0m | [33;1m   60.71[0m | [32;1m    100[0m | [33;1m  77.42[0m | [31;1m28,42,75-79,88-92,96[0m 
[32;1m src/lib/config              [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
[32;1m  index.ts                   [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
[32;1m src/lib/helpers             [0m | [32;1m  95.08[0m | [32;1m   88.57[0m | [32;1m    100[0m | [32;1m  94.83[0m | [31;1m                    [0m 
[32;1m  asser-valid-user-options.ts[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
[33;1m  assert.ts                  [0m | [33;1m  66.67[0m | [33;1m      50[0m | [32;1m    100[0m | [33;1m  66.67[0m | [31;1m3                   [0m 
[32;1m  distance-function.ts       [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
[32;1m  encode-email.ts            [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
[32;1m  find-closest-domain.ts     [0m | [32;1m  94.12[0m | [32;1m   84.62[0m | [32;1m    100[0m | [32;1m  93.75[0m | [31;1m19                  [0m 
[32;1m  get-options.ts             [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
[32;1m  parse-email.ts             [0m | [32;1m     96[0m | [32;1m    87.5[0m | [32;1m    100[0m | [32;1m  95.65[0m | [31;1m30                  [0m 
[32;1m  trim.ts                    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
------------------------------|---------|----------|---------|---------|----------------------
[1mTest Suites: [22m[1m[32m1 passed[39m[22m, 1 total
[1mTests:       [22m[1m[32m14 passed[39m[22m, 14 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        0.767 s, estimated 1 s
[2mRan all test suites[22m[2m.[22m
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[?2004l
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[H[2J[0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [Knpm run test[?2004l

> @zootools/email-spell-checker@1.2.0 test
> jest --coverage

[1m[2mDetermining test suites to run...[22m[22m[999D[K
[K[1A[999D[K
[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[0m[7m[1m[31m FAIL [39m[22m[27m[0m ]8;;file:///Users/jorgeferreiro/Documents/GitHub/mail-spell-checker/test/index.spec.ts[2mtest/[22m[1mindex.spec.ts[22m]8;;

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A  mailSpellChecker

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    run

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mcalls the 'suggested' callback with the element and result when there's a suggestion (2 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mcalls the 'empty' callback with the element when there's no suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mcalls the 'empty' callback with the element when email is empty (5 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mreturns the result when 'suggested' callback is not defined (1 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mtakes in an array of specified domains (1 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [31mâœ•[39m [2mvalidates common emails (2 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    parseEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mreturns a hash of the address, the domain, and the top-level domain (4 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2msplits RFC compliant emails (1 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mreturns false for email addresses that are not RFC compliant[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mtrims spaces from the start and end of the string[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      findClosestDomain

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [32mâœ“[39m [2mreturns the most similar domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [32mâœ“[39m [2mreturns the most similar second-level domain (1 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [32mâœ“[39m [2mreturns the most similar top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    encodeEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mescapes the element's value[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mallows valid special characters[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[1m[31m  [1mâ— [22m[1mmailSpellChecker â€º run â€º validates common emails[39m[22m

    [2mexpect([22m[31mjest.fn()[39m[2m).[22mtoHaveBeenCalledWith[2m([22m[32m...expected[39m[2m)[22m

    Expected: [32m{"address": "test", "domain": "yahoo.com", "full": "test@yahoo.com"}[39m

    Number of calls: [31m0[39m
[2m[22m
[2m    [0m [90m 114 |[39m       })[33m;[39m[0m[22m
[2m    [0m [90m 115 |[39m[0m[22m
[2m    [0m[31m[1m>[22m[2m[39m[90m 116 |[39m       expect(suggestedSpy)[33m.[39mtoHaveBeenCalledWith({[0m[22m
[2m    [0m [90m     |[39m                            [31m[1m^[22m[2m[39m[0m[22m
[2m    [0m [90m 117 |[39m         address[33m:[39m [32m'test'[39m[33m,[39m[0m[22m
[2m    [0m [90m 118 |[39m         domain[33m:[39m [32m'yahoo.com'[39m[33m,[39m[0m[22m
[2m    [0m [90m 119 |[39m         full[33m:[39m [32m'test@yahoo.com'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36mtest/index.spec.ts[39m[0m[2m:116:28)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K[1m[2mRunning coverage on untested files...[22m[22m[999D[K------------------------------|---------|----------|---------|---------|----------------------
File                          | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s    
------------------------------|---------|----------|---------|---------|----------------------
[32;1mAll files                    [0m | [32;1m  87.83[0m | [33;1m   78.08[0m | [32;1m    100[0m | [32;1m  87.27[0m | [31;1m                    [0m 
[31;1m src                         [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m                    [0m 
[31;1m  index.ts                   [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m1-9                 [0m 
[32;1m src/lib                     [0m | [32;1m  83.72[0m | [33;1m   68.42[0m | [32;1m    100[0m | [32;1m  83.72[0m | [31;1m                    [0m 
[32;1m  check-mail.ts              [0m | [32;1m    100[0m | [32;1m      90[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m8                   [0m 
[33;1m  suggest-email.ts           [0m | [33;1m  77.42[0m | [33;1m   60.71[0m | [32;1m    100[0m | [33;1m  77.42[0m | [31;1m28,42,75-79,88-92,96[0m 
[32;1m src/lib/config              [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
[32;1m  index.ts                   [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
[32;1m src/lib/helpers             [0m | [32;1m  95.08[0m | [32;1m   88.57[0m | [32;1m    100[0m | [32;1m  94.83[0m | [31;1m                    [0m 
[32;1m  asser-valid-user-options.ts[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
[33;1m  assert.ts                  [0m | [33;1m  66.67[0m | [33;1m      50[0m | [32;1m    100[0m | [33;1m  66.67[0m | [31;1m3                   [0m 
[32;1m  distance-function.ts       [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
[32;1m  encode-email.ts            [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
[32;1m  find-closest-domain.ts     [0m | [32;1m  94.12[0m | [32;1m   84.62[0m | [32;1m    100[0m | [32;1m  93.75[0m | [31;1m19                  [0m 
[32;1m  get-options.ts             [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
[32;1m  parse-email.ts             [0m | [32;1m     96[0m | [32;1m    87.5[0m | [32;1m    100[0m | [32;1m  95.65[0m | [31;1m30                  [0m 
[32;1m  trim.ts                    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
------------------------------|---------|----------|---------|---------|----------------------
[1mTest Suites: [22m[1m[31m1 failed[39m[22m, 1 total
[1mTests:       [22m[1m[31m1 failed[39m[22m, [1m[32m14 passed[39m[22m, 15 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        0.799 s, estimated 1 s
[2mRan all test suites[22m[2m.[22m
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[?2004l
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[H[2J[0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [Knpm run test[?2004l

> @zootools/email-spell-checker@1.2.0 test
> jest --coverage

[1m[2mDetermining test suites to run...[22m[22m[999D[K
[K[1A[999D[K
[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[0m[7m[1m[31m FAIL [39m[22m[27m[0m ]8;;file:///Users/jorgeferreiro/Documents/GitHub/mail-spell-checker/test/index.spec.ts[2mtest/[22m[1mindex.spec.ts[22m]8;;

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A  mailSpellChecker

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    run

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [31mâœ•[39m [2mvalidates common emails (3 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'suggested' callback with the element and result when there's a suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'empty' callback with the element when there's no suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'empty' callback with the element when email is empty[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns the result when 'suggested' callback is not defined[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped takes in an array of specified domains[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    parseEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns a hash of the address, the domain, and the top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped splits RFC compliant emails[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns false for email addresses that are not RFC compliant[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped trims spaces from the start and end of the string[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      findClosestDomain

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar second-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    encodeEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped escapes the element's value[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped allows valid special characters[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[1m[31m  [1mâ— [22m[1mmailSpellChecker â€º run â€º validates common emails[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoEqual[2m([22m[32mexpected[39m[2m) // deep equality[22m

    Expected: [32m{"address": "test", "domain": "yahoo.com", "full": "test@yahoo.com"}[39m
    Received: [31mundefined[39m
[2m[22m
[2m    [0m [90m 117 |[39m           domains[33m:[39m domains[33m,[39m[0m[22m
[2m    [0m [90m 118 |[39m         })[0m[22m
[2m    [0m[31m[1m>[22m[2m[39m[90m 119 |[39m       )[33m.[39mtoEqual({[0m[22m
[2m    [0m [90m     |[39m         [31m[1m^[22m[2m[39m[0m[22m
[2m    [0m [90m 120 |[39m         address[33m:[39m [32m'test'[39m[33m,[39m[0m[22m
[2m    [0m [90m 121 |[39m         domain[33m:[39m [32m'yahoo.com'[39m[33m,[39m[0m[22m
[2m    [0m [90m 122 |[39m         full[33m:[39m [32m'test@yahoo.com'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36mtest/index.spec.ts[39m[0m[2m:119:9)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K[1m[2mRunning coverage on untested files...[22m[22m[999D[K------------------------------|---------|----------|---------|---------|----------------------------
File                          | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s          
------------------------------|---------|----------|---------|---------|----------------------------
[32;1mAll files                    [0m | [32;1m     80[0m | [33;1m   61.64[0m | [32;1m    100[0m | [33;1m  79.09[0m | [31;1m                          [0m 
[31;1m src                         [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m                          [0m 
[31;1m  index.ts                   [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m1-9                       [0m 
[33;1m src/lib                     [0m | [33;1m  72.09[0m | [33;1m   52.63[0m | [32;1m    100[0m | [33;1m  72.09[0m | [31;1m                          [0m 
[32;1m  check-mail.ts              [0m | [32;1m  83.33[0m | [33;1m      60[0m | [32;1m    100[0m | [32;1m  83.33[0m | [31;1m12,15                     [0m 
[33;1m  suggest-email.ts           [0m | [33;1m  67.74[0m | [33;1m      50[0m | [32;1m    100[0m | [33;1m  67.74[0m | [31;1m11,28,40-45,75-79,88-92,96[0m 
[32;1m src/lib/config              [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                          [0m 
[32;1m  index.ts                   [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                          [0m 
[32;1m src/lib/helpers             [0m | [32;1m  88.52[0m | [33;1m   71.43[0m | [32;1m    100[0m | [32;1m  87.93[0m | [31;1m                          [0m 
[32;1m  asser-valid-user-options.ts[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                          [0m 
[33;1m  assert.ts                  [0m | [33;1m  66.67[0m | [33;1m      50[0m | [32;1m    100[0m | [33;1m  66.67[0m | [31;1m3                         [0m 
[32;1m  distance-function.ts       [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                          [0m 
[32;1m  encode-email.ts            [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                          [0m 
[32;1m  find-closest-domain.ts     [0m | [32;1m  88.24[0m | [33;1m   69.23[0m | [32;1m    100[0m | [32;1m   87.5[0m | [31;1m19,34                     [0m 
[32;1m  get-options.ts             [0m | [32;1m    100[0m | [32;1m   91.67[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m7                         [0m 
[32;1m  parse-email.ts             [0m | [32;1m     84[0m | [33;1m      50[0m | [32;1m    100[0m | [32;1m  82.61[0m | [31;1m11,16,30,33               [0m 
[32;1m  trim.ts                    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                          [0m 
------------------------------|---------|----------|---------|---------|----------------------------
[1mTest Suites: [22m[1m[31m1 failed[39m[22m, 1 total
[1mTests:       [22m[1m[31m1 failed[39m[22m, [1m[33m14 skipped[39m[22m, 15 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        0.791 s, estimated 1 s
[2mRan all test suites[22m[2m.[22m
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[?2004l
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[H[2J[0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [Klls[?2004l
LICENSE			lib			src			typescript
README.md		node_modules		test
coverage		package-lock.json	tsconfig.build.json
jest.config.js		package.json		tsconfig.json
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[7mnpm link[27m[8D[27mn[27mp[27mm[27m [27ml[27mi[27mn[27mk[?2004l
[?25l([100;90mâ ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚[0m) â ¼ reify: [32;40mtiming[0m [35marborist:ctor[0m Completed in 1ms[0m[K([107;97m#########[0m[100;90mâ ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚[0m) â ´ idealTree: [32;40mtiming[0m [35midealTree[0m Completed in 9ms[0m[K([107;97m#########[0m[100;90mâ ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚[0m) â ´ idealTree: [32;40mtiming[0m [35midealTree[0m Completed in 9ms[0m[K([107;97m#########[0m[100;90mâ ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚[0m) â ´ idealTree: [32;40mtiming[0m [35midealTree[0m Completed in 9ms[0m[K([107;97m#########[0m[100;90mâ ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚[0m) â ´ idealTree: [32;40mtiming[0m [35midealTree[0m Completed in 9ms[0m[K([107;97m#########[0m[100;90mâ ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚[0m) â ´ idealTree: [32;40mtiming[0m [35midealTree[0m Completed in 9ms[0m[K([107;97m#########[0m[100;90mâ ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚[0m) â ‡ idealTree: [32;40mtiming[0m [35midealTree[0m Completed in 9ms[0m[K([107;97m#########[0m[100;90mâ ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚[0m) â ‡ idealTree: [32;40mtiming[0m [35midealTree[0m Completed in 9ms[0m[K([107;97m#########[0m[100;90mâ ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚[0m) â ´ idealTree: [32;40mtiming[0m [35midealTree[0m Completed in 9ms[0m[K([107;97m#########[0m[100;90mâ ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚[0m) â ´ idealTree: [32;40mtiming[0m [35midealTree[0m Completed in 9ms[0m[K([107;97m#########[0m[100;90mâ ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚[0m) â ´ idealTree: [32;40mtiming[0m [35midealTree[0m Completed in 9ms[0m[K([107;97m#########[0m[100;90mâ ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚[0m) â ´ idealTree: [32;40mtiming[0m [35midealTree[0m Completed in 9ms[0m[K([107;97m#########[0m[100;90mâ ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚[0m) â ´ idealTree: [32;40mtiming[0m [35midealTree[0m Completed in 9ms[0m[K([107;97m#########[0m[100;90mâ ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚[0m) â ´ idealTree: [32;40mtiming[0m [35midealTree[0m Completed in 9ms[0m[K([107;97m#########[0m[100;90mâ ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚[0m) â ´ idealTree: [32;40mtiming[0m [35midealTree[0m Completed in 9ms[0m[K([107;97m#########[0m[100;90mâ ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚[0m) â ´ idealTree: [32;40mtiming[0m [35midealTree[0m Completed in 9ms[0m[K([107;97m#########[0m[100;90mâ ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚â ‚[0m) â ´ idealTree: [32;40mtiming[0m [35midealTree[0m Completed in 9ms[0m[K[K[?25h
up to date, audited 3 packages in 979ms

found [32m[1m0[22m[39m vulnerabilities
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004hccat package.json[1m [0m[0m [?2004l
{
  "private": false,
  "name": "@zootools/email-spell-checker",
  "version": "1.2.0",
  "description": "mailSpellChecker.js (mail spell checker) is a lightweight module that suggests a right domain when your users misspell it in an email address",
  "main": "./lib/index.js",
  "files": [
    "lib/**/*"
  ],
  "scripts": {
    "build": "tsc --project tsconfig.build.json",
    "clean": "rm -rf ./lib/",
    "cm": "cz",
    "lint": "eslint ./src/ --fix",
    "prepare": "husky install",
    "semantic-release": "semantic-release",
    "test:watch": "jest --watch",
    "test": "jest --coverage",
    "typecheck": "tsc --noEmit"
  },
  "repository": {
    "type": "git",
    "url": "git+https://github.com/ZooTools/mail-spell-checker.git"
  },
  "license": "MIT",
  "author": {
    "name": "ZooTools, Inc",
    "email": "jobs@zootools.co",
    "url": "https://zootools.co"
  },
  "engines": {
    "node": ">=12.0"
  },
  "keywords": [
    "spellcheck",
    "email",
    "email marketing",
    "email validation",
    "spelling",
    "spelling checker",
    "email verification",
    "spelling correction",
    "spellchecker"
  ],
  "bugs": {
    "url": "https://github.com/ZooTools/mail-spell-checker/issues"
  },
  "homepage": "https://github.com/ZooTools/mail-spell-checker#readme",
  "devDependencies": {
    "@ryansonshine/commitizen": "4.2.8",
    "@ryansonshine/cz-conventional-changelog": "^3.3.4",
    "@semantic-release/git": "^10.0.1",
    "@types/jest": "27.5.2",
    "@types/node": "12.20.11",
    "@types/trim": "0.1.1",
    "@typescript-eslint/eslint-plugin": "4.22.0",
    "@typescript-eslint/parser": "4.22.0",
    "conventional-changelog-conventionalcommits": "5.0.0",
    "eslint": "7.25.0",
    "eslint-config-prettier": "^8.3.0",
    "eslint-plugin-node": "^11.1.0",
    "eslint-plugin-prettier": "^3.4.0",
    "husky": "6.0.0",
    "jest": "27.2.0",
    "lint-staged": "10.5.4",
    "prettier": "2.2.1",
    "semantic-release": "19.0.3",
    "ts-jest": "27.0.5",
    "ts-node": "10.2.1",
    "typescript": "4.2.4"
  },
  "config": {
    "commitizen": {
      "path": "./node_modules/@ryansonshine/cz-conventional-changelog"
    }
  },
  "lint-staged": {
    "*.ts": "eslint --cache --cache-location .eslintcache --fix"
  },
  "release": {
    "branches": [
      "main"
    ],
    "plugins": [
      [
        "@semantic-release/commit-analyzer",
        {
          "preset": "conventionalcommits",
          "releaseRules": [
            {
              "type": "build",
              "scope": "deps",
              "release": "patch"
            }
          ]
        }
      ],
      [
        "@semantic-release/release-notes-generator",
        {
          "preset": "conventionalcommits",
          "presetConfig": {
            "types": [
              {
                "type": "feat",
                "section": "Features"
              },
              {
                "type": "fix",
                "section": "Bug Fixes"
              },
              {
                "type": "build",
                "section": "Dependencies and Other Build Updates",
                "hidden": false
              }
            ]
          }
        }
      ],
      "@semantic-release/npm",
      [
        "@semantic-release/git",
        {
          "assets": [
            "package.json"
          ],
          "message": "chore(release): ${nextRelease.version} [skip ci]\n\n${nextRelease.notes}"
        }
      ],
      "@semantic-release/github"
    ]
  },
  "dependencies": {
    "js-levenshtein": "1.1.6"
  }
}
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[?2004l
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[H[2J[0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [Klls[?2004l
LICENSE			lib			src			typescript
README.md		node_modules		test
coverage		package-lock.json	tsconfig.build.json
jest.config.js		package.json		tsconfig.json
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004hnnpm run test[?2004l

> @zootools/email-spell-checker@1.2.0 test
> jest --coverage

[1m[2mDetermining test suites to run...[22m[22m[999D[K
[K[1A[999D[K
[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[0m[7m[1m[31m FAIL [39m[22m[27m[0m ]8;;file:///Users/jorgeferreiro/Documents/GitHub/mail-spell-checker/test/index.spec.ts[2mtest/[22m[1mindex.spec.ts[22m]8;;

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A  mailSpellChecker

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    run

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [31mâœ•[39m [2mvalidates common emails (3 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'suggested' callback with the element and result when there's a suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'empty' callback with the element when there's no suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'empty' callback with the element when email is empty[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns the result when 'suggested' callback is not defined[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped takes in an array of specified domains[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    parseEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns a hash of the address, the domain, and the top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped splits RFC compliant emails[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns false for email addresses that are not RFC compliant[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped trims spaces from the start and end of the string[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      findClosestDomain

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar second-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    encodeEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped escapes the element's value[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped allows valid special characters[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[1m[31m  [1mâ— [22m[1mmailSpellChecker â€º run â€º validates common emails[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoEqual[2m([22m[32mexpected[39m[2m) // deep equality[22m

    Expected: [32m{"address": "test", "domain": "yahoo.com", "full": "test@yahoo.com"}[39m
    Received: [31mundefined[39m
[2m[22m
[2m    [0m [90m 117 |[39m           domains[33m:[39m domains[33m,[39m[0m[22m
[2m    [0m [90m 118 |[39m         })[0m[22m
[2m    [0m[31m[1m>[22m[2m[39m[90m 119 |[39m       )[33m.[39mtoEqual({[0m[22m
[2m    [0m [90m     |[39m         [31m[1m^[22m[2m[39m[0m[22m
[2m    [0m [90m 120 |[39m         address[33m:[39m [32m'test'[39m[33m,[39m[0m[22m
[2m    [0m [90m 121 |[39m         domain[33m:[39m [32m'yahoo.com'[39m[33m,[39m[0m[22m
[2m    [0m [90m 122 |[39m         full[33m:[39m [32m'test@yahoo.com'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36mtest/index.spec.ts[39m[0m[2m:119:9)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K[1m[2mRunning coverage on untested files...[22m[22m[999D[K------------------------------|---------|----------|---------|---------|----------------------------
File                          | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s          
------------------------------|---------|----------|---------|---------|----------------------------
[32;1mAll files                    [0m | [32;1m     80[0m | [33;1m   61.64[0m | [32;1m    100[0m | [33;1m  79.09[0m | [31;1m                          [0m 
[31;1m src                         [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m                          [0m 
[31;1m  index.ts                   [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m1-9                       [0m 
[33;1m src/lib                     [0m | [33;1m  72.09[0m | [33;1m   52.63[0m | [32;1m    100[0m | [33;1m  72.09[0m | [31;1m                          [0m 
[32;1m  check-mail.ts              [0m | [32;1m  83.33[0m | [33;1m      60[0m | [32;1m    100[0m | [32;1m  83.33[0m | [31;1m12,15                     [0m 
[33;1m  suggest-email.ts           [0m | [33;1m  67.74[0m | [33;1m      50[0m | [32;1m    100[0m | [33;1m  67.74[0m | [31;1m11,28,40-45,75-79,88-92,96[0m 
[32;1m src/lib/config              [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                          [0m 
[32;1m  index.ts                   [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                          [0m 
[32;1m src/lib/helpers             [0m | [32;1m  88.52[0m | [33;1m   71.43[0m | [32;1m    100[0m | [32;1m  87.93[0m | [31;1m                          [0m 
[32;1m  asser-valid-user-options.ts[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                          [0m 
[33;1m  assert.ts                  [0m | [33;1m  66.67[0m | [33;1m      50[0m | [32;1m    100[0m | [33;1m  66.67[0m | [31;1m3                         [0m 
[32;1m  distance-function.ts       [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                          [0m 
[32;1m  encode-email.ts            [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                          [0m 
[32;1m  find-closest-domain.ts     [0m | [32;1m  88.24[0m | [33;1m   69.23[0m | [32;1m    100[0m | [32;1m   87.5[0m | [31;1m19,34                     [0m 
[32;1m  get-options.ts             [0m | [32;1m    100[0m | [32;1m   91.67[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m7                         [0m 
[32;1m  parse-email.ts             [0m | [32;1m     84[0m | [33;1m      50[0m | [32;1m    100[0m | [32;1m  82.61[0m | [31;1m11,16,30,33               [0m 
[32;1m  trim.ts                    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                          [0m 
------------------------------|---------|----------|---------|---------|----------------------------
[1mTest Suites: [22m[1m[31m1 failed[39m[22m, 1 total
[1mTests:       [22m[1m[31m1 failed[39m[22m, [1m[33m14 skipped[39m[22m, 15 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        0.854 s, estimated 1 s
[2mRan all test suites[22m[2m.[22m
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[?2004l
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[H[2J[0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [Knpm run test[?2004l

> @zootools/email-spell-checker@1.2.0 test
> jest --coverage

[1m[2mDetermining test suites to run...[22m[22m[999D[K
[K[1A[999D[K
[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1ABrowserslist: caniuse-lite is outdated. Please run:
  npx browserslist@latest --update-db
  Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[0m[7m[1m[31m FAIL [39m[22m[27m[0m ]8;;file:///Users/jorgeferreiro/Documents/GitHub/mail-spell-checker/test/index.spec.ts[2mtest/[22m[1mindex.spec.ts[22m]8;;

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A  mailSpellChecker

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    run

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [31mâœ•[39m [2mvalidates common emails (25 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'suggested' callback with the element and result when there's a suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'empty' callback with the element when there's no suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'empty' callback with the element when email is empty[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns the result when 'suggested' callback is not defined[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped takes in an array of specified domains[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    parseEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns a hash of the address, the domain, and the top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped splits RFC compliant emails[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns false for email addresses that are not RFC compliant[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped trims spaces from the start and end of the string[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      findClosestDomain

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar second-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    encodeEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped escapes the element's value[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped allows valid special characters[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[1m[31m  [1mâ— [22m[1mmailSpellChecker â€º run â€º validates common emails[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoEqual[2m([22m[32mexpected[39m[2m) // deep equality[22m

    Expected: [32m{"address": "test", "domain": "yahoo.com", "full": "test@yahoo.com"}[39m
    Received: [31mundefined[39m
[2m[22m
[2m    [0m [90m 117 |[39m           domains[33m:[39m domains[33m,[39m[0m[22m
[2m    [0m [90m 118 |[39m         })[0m[22m
[2m    [0m[31m[1m>[22m[2m[39m[90m 119 |[39m       )[33m.[39mtoEqual({[0m[22m
[2m    [0m [90m     |[39m         [31m[1m^[22m[2m[39m[0m[22m
[2m    [0m [90m 120 |[39m         address[33m:[39m [32m'test'[39m[33m,[39m[0m[22m
[2m    [0m [90m 121 |[39m         domain[33m:[39m [32m'yahoo.com'[39m[33m,[39m[0m[22m
[2m    [0m [90m 122 |[39m         full[33m:[39m [32m'test@yahoo.com'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36mtest/index.spec.ts[39m[0m[2m:119:9)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K  [2mconsole.log[22m
    {
      topLevelDomain: 'com',
      secondLevelDomain: 'yaho',
      domain: 'yaho.com',
      address: 'test'
    }
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:10:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    {
      topLevelDomain: 'com',
      secondLevelDomain: 'yaho',
      domain: 'yaho.com',
      address: 'test'
    }
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:10:11)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K[1m[2mRunning coverage on untested files...[22m[22m[999D[K------------------------------|---------|----------|---------|---------|----------------------------
File                          | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s          
------------------------------|---------|----------|---------|---------|----------------------------
[32;1mAll files                    [0m | [32;1m  80.17[0m | [33;1m   61.64[0m | [32;1m    100[0m | [33;1m  79.28[0m | [31;1m                          [0m 
[31;1m src                         [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m                          [0m 
[31;1m  index.ts                   [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m1-9                       [0m 
[33;1m src/lib                     [0m | [33;1m  72.73[0m | [33;1m   52.63[0m | [32;1m    100[0m | [33;1m  72.73[0m | [31;1m                          [0m 
[32;1m  check-mail.ts              [0m | [32;1m  83.33[0m | [33;1m      60[0m | [32;1m    100[0m | [32;1m  83.33[0m | [31;1m12,15                     [0m 
[33;1m  suggest-email.ts           [0m | [33;1m  68.75[0m | [33;1m      50[0m | [32;1m    100[0m | [33;1m  68.75[0m | [31;1m13,30,42-47,77-81,90-94,98[0m 
[32;1m src/lib/config              [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                          [0m 
[32;1m  index.ts                   [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                          [0m 
[32;1m src/lib/helpers             [0m | [32;1m  88.52[0m | [33;1m   71.43[0m | [32;1m    100[0m | [32;1m  87.93[0m | [31;1m                          [0m 
[32;1m  asser-valid-user-options.ts[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                          [0m 
[33;1m  assert.ts                  [0m | [33;1m  66.67[0m | [33;1m      50[0m | [32;1m    100[0m | [33;1m  66.67[0m | [31;1m3                         [0m 
[32;1m  distance-function.ts       [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                          [0m 
[32;1m  encode-email.ts            [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                          [0m 
[32;1m  find-closest-domain.ts     [0m | [32;1m  88.24[0m | [33;1m   69.23[0m | [32;1m    100[0m | [32;1m   87.5[0m | [31;1m19,34                     [0m 
[32;1m  get-options.ts             [0m | [32;1m    100[0m | [32;1m   91.67[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m7                         [0m 
[32;1m  parse-email.ts             [0m | [32;1m     84[0m | [33;1m      50[0m | [32;1m    100[0m | [32;1m  82.61[0m | [31;1m11,16,30,33               [0m 
[32;1m  trim.ts                    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                          [0m 
------------------------------|---------|----------|---------|---------|----------------------------
[1mTest Suites: [22m[1m[31m1 failed[39m[22m, 1 total
[1mTests:       [22m[1m[31m1 failed[39m[22m, [1m[33m14 skipped[39m[22m, 15 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        0.906 s, estimated 1 s
[2mRan all test suites[22m[2m.[22m
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[?2004l
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[H[2J[0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [Knpm run test[?2004l

> @zootools/email-spell-checker@1.2.0 test
> jest --coverage

[1m[2mDetermining test suites to run...[22m[22m[999D[K
[K[1A[999D[K
[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1ABrowserslist: caniuse-lite is outdated. Please run:
  npx browserslist@latest --update-db
  Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[0m[7m[1m[31m FAIL [39m[22m[27m[0m ]8;;file:///Users/jorgeferreiro/Documents/GitHub/mail-spell-checker/test/index.spec.ts[2mtest/[22m[1mindex.spec.ts[22m]8;;

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A  mailSpellChecker

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    run

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [31mâœ•[39m [2mvalidates common emails (3 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'suggested' callback with the element and result when there's a suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'empty' callback with the element when there's no suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'empty' callback with the element when email is empty[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns the result when 'suggested' callback is not defined[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped takes in an array of specified domains[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    parseEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns a hash of the address, the domain, and the top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped splits RFC compliant emails[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns false for email addresses that are not RFC compliant[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped trims spaces from the start and end of the string[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      findClosestDomain

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar second-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    encodeEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped escapes the element's value[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped allows valid special characters[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[1m[31m  [1mâ— [22m[1mmailSpellChecker â€º run â€º validates common emails[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoEqual[2m([22m[32mexpected[39m[2m) // deep equality[22m

    Expected: [32m{"address": "test", "domain": "yahoo.com", "full": "test@yahoo.com"}[39m
    Received: [31mundefined[39m
[2m[22m
[2m    [0m [90m 117 |[39m           domains[33m:[39m domains[33m,[39m[0m[22m
[2m    [0m [90m 118 |[39m         })[0m[22m
[2m    [0m[31m[1m>[22m[2m[39m[90m 119 |[39m       )[33m.[39mtoEqual({[0m[22m
[2m    [0m [90m     |[39m         [31m[1m^[22m[2m[39m[0m[22m
[2m    [0m [90m 120 |[39m         address[33m:[39m [32m'test'[39m[33m,[39m[0m[22m
[2m    [0m [90m 121 |[39m         domain[33m:[39m [32m'yahoo.com'[39m[33m,[39m[0m[22m
[2m    [0m [90m 122 |[39m         full[33m:[39m [32m'test@yahoo.com'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36mtest/index.spec.ts[39m[0m[2m:119:9)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K[1m[2mRunning coverage on untested files...[22m[22m[999D[K------------------------------|---------|----------|---------|---------|----------------------------
File                          | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s          
------------------------------|---------|----------|---------|---------|----------------------------
[32;1mAll files                    [0m | [32;1m     80[0m | [33;1m    62.5[0m | [32;1m    100[0m | [33;1m  79.09[0m | [31;1m                          [0m 
[31;1m src                         [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m                          [0m 
[31;1m  index.ts                   [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m1-9                       [0m 
[33;1m src/lib                     [0m | [33;1m  72.09[0m | [33;1m   54.05[0m | [32;1m    100[0m | [33;1m  72.09[0m | [31;1m                          [0m 
[32;1m  check-mail.ts              [0m | [32;1m  83.33[0m | [33;1m      60[0m | [32;1m    100[0m | [32;1m  83.33[0m | [31;1m12,15                     [0m 
[33;1m  suggest-email.ts           [0m | [33;1m  67.74[0m | [33;1m   51.85[0m | [32;1m    100[0m | [33;1m  67.74[0m | [31;1m11,28,40-45,75-79,88-92,96[0m 
[32;1m src/lib/config              [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                          [0m 
[32;1m  index.ts                   [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                          [0m 
[32;1m src/lib/helpers             [0m | [32;1m  88.52[0m | [33;1m   71.43[0m | [32;1m    100[0m | [32;1m  87.93[0m | [31;1m                          [0m 
[32;1m  asser-valid-user-options.ts[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                          [0m 
[33;1m  assert.ts                  [0m | [33;1m  66.67[0m | [33;1m      50[0m | [32;1m    100[0m | [33;1m  66.67[0m | [31;1m3                         [0m 
[32;1m  distance-function.ts       [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                          [0m 
[32;1m  encode-email.ts            [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                          [0m 
[32;1m  find-closest-domain.ts     [0m | [32;1m  88.24[0m | [33;1m   69.23[0m | [32;1m    100[0m | [32;1m   87.5[0m | [31;1m19,34                     [0m 
[32;1m  get-options.ts             [0m | [32;1m    100[0m | [32;1m   91.67[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m7                         [0m 
[32;1m  parse-email.ts             [0m | [32;1m     84[0m | [33;1m      50[0m | [32;1m    100[0m | [32;1m  82.61[0m | [31;1m11,16,30,33               [0m 
[32;1m  trim.ts                    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                          [0m 
------------------------------|---------|----------|---------|---------|----------------------------
[1mTest Suites: [22m[1m[31m1 failed[39m[22m, 1 total
[1mTests:       [22m[1m[31m1 failed[39m[22m, [1m[33m14 skipped[39m[22m, 15 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        0.963 s, estimated 1 s
[2mRan all test suites[22m[2m.[22m
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[?2004l
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[H[2J[0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [Knpm run test[?2004l

> @zootools/email-spell-checker@1.2.0 test
> jest --coverage

[1m[2mDetermining test suites to run...[22m[22m[999D[K
[K[1A[999D[K
[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1ABrowserslist: caniuse-lite is outdated. Please run:
  npx browserslist@latest --update-db
  Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[0m[7m[1m[31m FAIL [39m[22m[27m[0m ]8;;file:///Users/jorgeferreiro/Documents/GitHub/mail-spell-checker/test/index.spec.ts[2mtest/[22m[1mindex.spec.ts[22m]8;;

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A  mailSpellChecker

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    run

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [31mâœ•[39m [2mvalidates common emails (20 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'suggested' callback with the element and result when there's a suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'empty' callback with the element when there's no suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'empty' callback with the element when email is empty[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns the result when 'suggested' callback is not defined[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped takes in an array of specified domains[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    parseEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns a hash of the address, the domain, and the top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped splits RFC compliant emails[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns false for email addresses that are not RFC compliant[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped trims spaces from the start and end of the string[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      findClosestDomain

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar second-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    encodeEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped escapes the element's value[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped allows valid special characters[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[1m[31m  [1mâ— [22m[1mmailSpellChecker â€º run â€º validates common emails[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoEqual[2m([22m[32mexpected[39m[2m) // deep equality[22m

    Expected: [32m{"address": "test", "domain": "yahoo.com", "full": "test@yahoo.com"}[39m
    Received: [31mundefined[39m
[2m[22m
[2m    [0m [90m 117 |[39m           domains[33m:[39m domains[33m,[39m[0m[22m
[2m    [0m [90m 118 |[39m         })[0m[22m
[2m    [0m[31m[1m>[22m[2m[39m[90m 119 |[39m       )[33m.[39mtoEqual({[0m[22m
[2m    [0m [90m     |[39m         [31m[1m^[22m[2m[39m[0m[22m
[2m    [0m [90m 120 |[39m         address[33m:[39m [32m'test'[39m[33m,[39m[0m[22m
[2m    [0m [90m 121 |[39m         domain[33m:[39m [32m'yahoo.com'[39m[33m,[39m[0m[22m
[2m    [0m [90m 122 |[39m         full[33m:[39m [32m'test@yahoo.com'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36mtest/index.spec.ts[39m[0m[2m:119:9)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K  [2mconsole.log[22m
    secondLevelDomains [
      'com',   'com.au',  'com.tw', 'co',       'ca',
      'co.nz', 'co.uk',   'de',     'fr',       'it',
      'ru',    'org',     'edu',    'gov',      'jp',
      'nl',    'kr',      'se',     'eu',       'ie',
      'co.il', 'us',      'at',     'be',       'dk',
      'hk',    'es',      'gr',     'ch',       'no',
      'cz',    'net',     'net.au', 'info',     'biz',
      'mil',   'co.jp',   'sg',     'hu',       'uk',
      'app',   'au',      'ai',     'biz',      'br',
      'blog',  'cloud',   'club',   'cc',       'de',
      'dev',   'digital', 'fi',     'finance',  'id',
      'in',    'io',      'me',     'mobi',     'network',
      'pw',    'so',      'xyz',    'software', 'to',
      'tech'
    ]
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:22:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    topLevelDomains [
      'com',   'com.au',  'com.tw', 'co',       'ca',
      'co.nz', 'co.uk',   'de',     'fr',       'it',
      'ru',    'org',     'edu',    'gov',      'jp',
      'nl',    'kr',      'se',     'eu',       'ie',
      'co.il', 'us',      'at',     'be',       'dk',
      'hk',    'es',      'gr',     'ch',       'no',
      'cz',    'net',     'net.au', 'info',     'biz',
      'mil',   'co.jp',   'sg',     'hu',       'uk',
      'app',   'au',      'ai',     'biz',      'br',
      'blog',  'cloud',   'club',   'cc',       'de',
      'dev',   'digital', 'fi',     'finance',  'id',
      'in',    'io',      'me',     'mobi',     'network',
      'pw',    'so',      'xyz',    'software', 'to',
      'tech'
    ]
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:23:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    secondLevelDomains [
      'com',   'com.au',  'com.tw', 'co',       'ca',
      'co.nz', 'co.uk',   'de',     'fr',       'it',
      'ru',    'org',     'edu',    'gov',      'jp',
      'nl',    'kr',      'se',     'eu',       'ie',
      'co.il', 'us',      'at',     'be',       'dk',
      'hk',    'es',      'gr',     'ch',       'no',
      'cz',    'net',     'net.au', 'info',     'biz',
      'mil',   'co.jp',   'sg',     'hu',       'uk',
      'app',   'au',      'ai',     'biz',      'br',
      'blog',  'cloud',   'club',   'cc',       'de',
      'dev',   'digital', 'fi',     'finance',  'id',
      'in',    'io',      'me',     'mobi',     'network',
      'pw',    'so',      'xyz',    'software', 'to',
      'tech'
    ]
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:22:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    topLevelDomains [
      'com',   'com.au',  'com.tw', 'co',       'ca',
      'co.nz', 'co.uk',   'de',     'fr',       'it',
      'ru',    'org',     'edu',    'gov',      'jp',
      'nl',    'kr',      'se',     'eu',       'ie',
      'co.il', 'us',      'at',     'be',       'dk',
      'hk',    'es',      'gr',     'ch',       'no',
      'cz',    'net',     'net.au', 'info',     'biz',
      'mil',   'co.jp',   'sg',     'hu',       'uk',
      'app',   'au',      'ai',     'biz',      'br',
      'blog',  'cloud',   'club',   'cc',       'de',
      'dev',   'digital', 'fi',     'finance',  'id',
      'in',    'io',      'me',     'mobi',     'network',
      'pw',    'so',      'xyz',    'software', 'to',
      'tech'
    ]
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:23:11)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K[1m[2mRunning coverage on untested files...[22m[22m[999D[K------------------------------|---------|----------|---------|---------|----------------------------
File                          | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s          
------------------------------|---------|----------|---------|---------|----------------------------
[32;1mAll files                    [0m | [32;1m  80.34[0m | [33;1m    62.5[0m | [32;1m    100[0m | [33;1m  79.46[0m | [31;1m                          [0m 
[31;1m src                         [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m                          [0m 
[31;1m  index.ts                   [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m1-9                       [0m 
[33;1m src/lib                     [0m | [33;1m  73.33[0m | [33;1m   54.05[0m | [32;1m    100[0m | [33;1m  73.33[0m | [31;1m                          [0m 
[32;1m  check-mail.ts              [0m | [32;1m  83.33[0m | [33;1m      60[0m | [32;1m    100[0m | [32;1m  83.33[0m | [31;1m12,15                     [0m 
[33;1m  suggest-email.ts           [0m | [33;1m   69.7[0m | [33;1m   51.85[0m | [32;1m    100[0m | [33;1m   69.7[0m | [31;1m11,31,43-48,78-82,91-95,99[0m 
[32;1m src/lib/config              [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                          [0m 
[32;1m  index.ts                   [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                          [0m 
[32;1m src/lib/helpers             [0m | [32;1m  88.52[0m | [33;1m   71.43[0m | [32;1m    100[0m | [32;1m  87.93[0m | [31;1m                          [0m 
[32;1m  asser-valid-user-options.ts[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                          [0m 
[33;1m  assert.ts                  [0m | [33;1m  66.67[0m | [33;1m      50[0m | [32;1m    100[0m | [33;1m  66.67[0m | [31;1m3                         [0m 
[32;1m  distance-function.ts       [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                          [0m 
[32;1m  encode-email.ts            [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                          [0m 
[32;1m  find-closest-domain.ts     [0m | [32;1m  88.24[0m | [33;1m   69.23[0m | [32;1m    100[0m | [32;1m   87.5[0m | [31;1m19,34                     [0m 
[32;1m  get-options.ts             [0m | [32;1m    100[0m | [32;1m   91.67[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m7                         [0m 
[32;1m  parse-email.ts             [0m | [32;1m     84[0m | [33;1m      50[0m | [32;1m    100[0m | [32;1m  82.61[0m | [31;1m11,16,30,33               [0m 
[32;1m  trim.ts                    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                          [0m 
------------------------------|---------|----------|---------|---------|----------------------------
[1mTest Suites: [22m[1m[31m1 failed[39m[22m, 1 total
[1mTests:       [22m[1m[31m1 failed[39m[22m, [1m[33m14 skipped[39m[22m, 15 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        0.86 s, estimated 1 s
[2mRan all test suites[22m[2m.[22m
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[?2004l
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[H[2J[0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [Knpm run test[?2004l

> @zootools/email-spell-checker@1.2.0 test
> jest --coverage

[1m[2mDetermining test suites to run...[22m[22m[999D[K
[K[1A[999D[K
[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1ABrowserslist: caniuse-lite is outdated. Please run:
  npx browserslist@latest --update-db
  Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[0m[7m[1m[32m PASS [39m[22m[27m[0m ]8;;file:///Users/jorgeferreiro/Documents/GitHub/mail-spell-checker/test/index.spec.ts[2mtest/[22m[1mindex.spec.ts[22m]8;;

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A  mailSpellChecker

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    run

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mvalidates common emails (19 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'suggested' callback with the element and result when there's a suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'empty' callback with the element when there's no suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'empty' callback with the element when email is empty[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns the result when 'suggested' callback is not defined[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped takes in an array of specified domains[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    parseEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns a hash of the address, the domain, and the top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped splits RFC compliant emails[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns false for email addresses that are not RFC compliant[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped trims spaces from the start and end of the string[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      findClosestDomain

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar second-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    encodeEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped escapes the element's value[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped allows valid special characters[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K  [2mconsole.log[22m
    secondLevelDomains [ 'yahoo', 'hotmail', 'mail', 'live', 'outlook', 'gmx' ]
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:22:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    topLevelDomains [
      'com',   'com.au',  'com.tw', 'co',       'ca',
      'co.nz', 'co.uk',   'de',     'fr',       'it',
      'ru',    'org',     'edu',    'gov',      'jp',
      'nl',    'kr',      'se',     'eu',       'ie',
      'co.il', 'us',      'at',     'be',       'dk',
      'hk',    'es',      'gr',     'ch',       'no',
      'cz',    'net',     'net.au', 'info',     'biz',
      'mil',   'co.jp',   'sg',     'hu',       'uk',
      'app',   'au',      'ai',     'biz',      'br',
      'blog',  'cloud',   'club',   'cc',       'de',
      'dev',   'digital', 'fi',     'finance',  'id',
      'in',    'io',      'me',     'mobi',     'network',
      'pw',    'so',      'xyz',    'software', 'to',
      'tech'
    ]
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:23:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    secondLevelDomains [ 'yahoo', 'hotmail', 'mail', 'live', 'outlook', 'gmx' ]
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:22:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    topLevelDomains [
      'com',   'com.au',  'com.tw', 'co',       'ca',
      'co.nz', 'co.uk',   'de',     'fr',       'it',
      'ru',    'org',     'edu',    'gov',      'jp',
      'nl',    'kr',      'se',     'eu',       'ie',
      'co.il', 'us',      'at',     'be',       'dk',
      'hk',    'es',      'gr',     'ch',       'no',
      'cz',    'net',     'net.au', 'info',     'biz',
      'mil',   'co.jp',   'sg',     'hu',       'uk',
      'app',   'au',      'ai',     'biz',      'br',
      'blog',  'cloud',   'club',   'cc',       'de',
      'dev',   'digital', 'fi',     'finance',  'id',
      'in',    'io',      'me',     'mobi',     'network',
      'pw',    'so',      'xyz',    'software', 'to',
      'tech'
    ]
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:23:11)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K[1m[2mRunning coverage on untested files...[22m[22m[999D[K------------------------------|---------|----------|---------|---------|-----------------------
File                          | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s     
------------------------------|---------|----------|---------|---------|-----------------------
[32;1mAll files                    [0m | [32;1m  82.91[0m | [33;1m   66.67[0m | [32;1m    100[0m | [32;1m  82.14[0m | [31;1m                     [0m 
[31;1m src                         [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m                     [0m 
[31;1m  index.ts                   [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m1-9                  [0m 
[33;1m src/lib                     [0m | [33;1m  77.78[0m | [33;1m   56.76[0m | [32;1m    100[0m | [33;1m  77.78[0m | [31;1m                     [0m 
[32;1m  run.ts                     [0m | [32;1m  83.33[0m | [33;1m      60[0m | [32;1m    100[0m | [32;1m  83.33[0m | [31;1m12,15                [0m 
[33;1m  suggest-email.ts           [0m | [33;1m  75.76[0m | [33;1m   55.56[0m | [32;1m    100[0m | [33;1m  75.76[0m | [31;1m11,31,43-48,91-95,111[0m 
[32;1m src/lib/config              [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                     [0m 
[32;1m  index.ts                   [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                     [0m 
[32;1m src/lib/helpers             [0m | [32;1m  90.16[0m | [33;1m   77.14[0m | [32;1m    100[0m | [32;1m  89.66[0m | [31;1m                     [0m 
[32;1m  asser-valid-user-options.ts[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                     [0m 
[33;1m  assert.ts                  [0m | [33;1m  66.67[0m | [33;1m      50[0m | [32;1m    100[0m | [33;1m  66.67[0m | [31;1m3                    [0m 
[32;1m  distance-function.ts       [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                     [0m 
[32;1m  encode-email.ts            [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                     [0m 
[32;1m  find-closest-domain.ts     [0m | [32;1m  94.12[0m | [32;1m   84.62[0m | [32;1m    100[0m | [32;1m  93.75[0m | [31;1m19                   [0m 
[32;1m  get-options.ts             [0m | [32;1m    100[0m | [32;1m   91.67[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m7                    [0m 
[32;1m  parse-email.ts             [0m | [32;1m     84[0m | [33;1m      50[0m | [32;1m    100[0m | [32;1m  82.61[0m | [31;1m11,16,30,33          [0m 
[32;1m  trim.ts                    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                     [0m 
------------------------------|---------|----------|---------|---------|-----------------------
[1mTest Suites: [22m[1m[32m1 passed[39m[22m, 1 total
[1mTests:       [22m[1m[33m14 skipped[39m[22m, [1m[32m1 passed[39m[22m, 15 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        0.917 s, estimated 1 s
[2mRan all test suites[22m[2m.[22m
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[?2004l
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[H[2J[0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [Knpm run test[?2004l

> @zootools/email-spell-checker@1.2.0 test
> jest --coverage

[1m[2mDetermining test suites to run...[22m[22m[999D[K
[K[1A[999D[K
[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1ABrowserslist: caniuse-lite is outdated. Please run:
  npx browserslist@latest --update-db
  Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[0m[7m[1m[32m PASS [39m[22m[27m[0m ]8;;file:///Users/jorgeferreiro/Documents/GitHub/mail-spell-checker/test/index.spec.ts[2mtest/[22m[1mindex.spec.ts[22m]8;;

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A  mailSpellChecker

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    run

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mcalls the 'suggested' callback with the element and result when there's a suggestion (2 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mcalls the 'empty' callback with the element when there's no suggestion (1 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mcalls the 'empty' callback with the element when email is empty[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mreturns the result when 'suggested' callback is not defined[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mtakes in an array of specified domains[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mvalidates common emails[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    parseEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mreturns a hash of the address, the domain, and the top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2msplits RFC compliant emails (1 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mreturns false for email addresses that are not RFC compliant[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mtrims spaces from the start and end of the string[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      findClosestDomain

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [32mâœ“[39m [2mreturns the most similar domain (1 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [32mâœ“[39m [2mreturns the most similar second-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [32mâœ“[39m [2mreturns the most similar top-level domain (1 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    encodeEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mescapes the element's value[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mallows valid special characters[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K[1m[2mRunning coverage on untested files...[22m[22m[999D[K------------------------------|---------|----------|---------|---------|-------------------
File                          | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------------------------|---------|----------|---------|---------|-------------------
[32;1mAll files                    [0m | [32;1m  90.43[0m | [32;1m   83.33[0m | [32;1m    100[0m | [32;1m     90[0m | [31;1m                 [0m 
[31;1m src                         [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m                 [0m 
[31;1m  index.ts                   [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m1-9              [0m 
[32;1m src/lib                     [0m | [32;1m   90.7[0m | [33;1m   78.38[0m | [32;1m    100[0m | [32;1m   90.7[0m | [31;1m                 [0m 
[32;1m  run.ts                     [0m | [32;1m    100[0m | [32;1m      90[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m8                [0m 
[32;1m  suggest-email.ts           [0m | [32;1m   87.1[0m | [33;1m   74.07[0m | [32;1m    100[0m | [32;1m   87.1[0m | [31;1m29,43,89-93      [0m 
[32;1m src/lib/config              [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  index.ts                   [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m src/lib/helpers             [0m | [32;1m  95.08[0m | [32;1m   88.57[0m | [32;1m    100[0m | [32;1m  94.83[0m | [31;1m                 [0m 
[32;1m  asser-valid-user-options.ts[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[33;1m  assert.ts                  [0m | [33;1m  66.67[0m | [33;1m      50[0m | [32;1m    100[0m | [33;1m  66.67[0m | [31;1m3                [0m 
[32;1m  distance-function.ts       [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  encode-email.ts            [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  find-closest-domain.ts     [0m | [32;1m  94.12[0m | [32;1m   84.62[0m | [32;1m    100[0m | [32;1m  93.75[0m | [31;1m19               [0m 
[32;1m  get-options.ts             [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  parse-email.ts             [0m | [32;1m     96[0m | [32;1m    87.5[0m | [32;1m    100[0m | [32;1m  95.65[0m | [31;1m30               [0m 
[32;1m  trim.ts                    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
------------------------------|---------|----------|---------|---------|-------------------
[1mTest Suites: [22m[1m[32m1 passed[39m[22m, 1 total
[1mTests:       [22m[1m[32m15 passed[39m[22m, 15 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        0.861 s, estimated 1 s
[2mRan all test suites[22m[2m.[22m
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[?2004l
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[H[2J[0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [Kggit status[?2004l
On branch main
Your branch is ahead of 'origin/main' by 1 commit.
  (use "git push" to publish your local commits)

Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
	[31mmodified:   src/index.ts[m
	[31mmodified:   test/index.spec.ts[m

Untracked files:
  (use "git add <file>..." to include in what will be committed)
	[31mtypescript[m

no changes added to commit (use "git add" and/or "git commit -a")
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[?2004l
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[H[2J[0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [Kgit status[?2004l
On branch main
Your branch is ahead of 'origin/main' by 1 commit.
  (use "git push" to publish your local commits)

Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
	[31mmodified:   src/index.ts[m
	[31mmodified:   test/index.spec.ts[m

Untracked files:
  (use "git add <file>..." to include in what will be committed)
	[31mtypescript[m

no changes added to commit (use "git add" and/or "git commit -a")
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h
bck-i-search: _[K[A[28Cgit sta[4mt[24mus[1B[39Dt_[A[34Cnpm run[24m [4mt[4me[24mst[1B[40De_[A[34C[1C[4me[4ms[24m[1B[38Ds_[A[33C[2C[4ms[4mt[24m[1B[38Dt_[A[32C[24mt[24me[24ms[24mt[1B[K[A[51C[?2004l[1B
> @zootools/email-spell-checker@1.2.0 test
> jest --coverage

[1m[2mDetermining test suites to run...[22m[22m[999D[K
[K[1A[999D[K
[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[0m[7m[1m[32m PASS [39m[22m[27m[0m ]8;;file:///Users/jorgeferreiro/Documents/GitHub/mail-spell-checker/test/index.spec.ts[2mtest/[22m[1mindex.spec.ts[22m]8;;

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A  mailSpellChecker

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    run

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mcalls the 'suggested' callback with the element and result when there's a suggestion (2 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mcalls the 'empty' callback with the element when there's no suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mcalls the 'empty' callback with the element when email is empty (1 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mreturns the result when 'suggested' callback is not defined[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mtakes in an array of specified domains (1 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    parseEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mreturns a hash of the address, the domain, and the top-level domain (1 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2msplits RFC compliant emails (2 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mreturns false for email addresses that are not RFC compliant (1 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mtrims spaces from the start and end of the string (1 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      findClosestDomain

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [32mâœ“[39m [2mreturns the most similar domain (4 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [32mâœ“[39m [2mreturns the most similar second-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [32mâœ“[39m [2mreturns the most similar top-level domain (1 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    encodeEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mescapes the element's value[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mallows valid special characters[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K[1m[2mRunning coverage on untested files...[22m[22m[999D[K------------------------------|---------|----------|---------|---------|----------------------
File                          | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s    
------------------------------|---------|----------|---------|---------|----------------------
[32;1mAll files                    [0m | [32;1m  87.83[0m | [33;1m   79.17[0m | [32;1m    100[0m | [32;1m  87.27[0m | [31;1m                    [0m 
[31;1m src                         [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m                    [0m 
[31;1m  index.ts                   [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m1-9                 [0m 
[32;1m src/lib                     [0m | [32;1m  83.72[0m | [33;1m   70.27[0m | [32;1m    100[0m | [32;1m  83.72[0m | [31;1m                    [0m 
[32;1m  run.ts                     [0m | [32;1m    100[0m | [32;1m      90[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m8                   [0m 
[33;1m  suggest-email.ts           [0m | [33;1m  77.42[0m | [33;1m   62.96[0m | [32;1m    100[0m | [33;1m  77.42[0m | [31;1m29,43,76-80,89-93,97[0m 
[32;1m src/lib/config              [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
[32;1m  index.ts                   [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
[32;1m src/lib/helpers             [0m | [32;1m  95.08[0m | [32;1m   88.57[0m | [32;1m    100[0m | [32;1m  94.83[0m | [31;1m                    [0m 
[32;1m  asser-valid-user-options.ts[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
[33;1m  assert.ts                  [0m | [33;1m  66.67[0m | [33;1m      50[0m | [32;1m    100[0m | [33;1m  66.67[0m | [31;1m3                   [0m 
[32;1m  distance-function.ts       [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
[32;1m  encode-email.ts            [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
[32;1m  find-closest-domain.ts     [0m | [32;1m  94.12[0m | [32;1m   84.62[0m | [32;1m    100[0m | [32;1m  93.75[0m | [31;1m19                  [0m 
[32;1m  get-options.ts             [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
[32;1m  parse-email.ts             [0m | [32;1m     96[0m | [32;1m    87.5[0m | [32;1m    100[0m | [32;1m  95.65[0m | [31;1m30                  [0m 
[32;1m  trim.ts                    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
------------------------------|---------|----------|---------|---------|----------------------
[1mTest Suites: [22m[1m[32m1 passed[39m[22m, 1 total
[1mTests:       [22m[1m[32m14 passed[39m[22m, 14 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        0.77 s, estimated 1 s
[2mRan all test suites[22m[2m.[22m
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[?2004l
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[H[2J[0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [Knpm run test[?2004l

> @zootools/email-spell-checker@1.2.0 test
> jest --coverage

[1m[2mDetermining test suites to run...[22m[22m[999D[K
[K[1A[999D[K
[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[0m[7m[1m[31m FAIL [39m[22m[27m[0m ]8;;file:///Users/jorgeferreiro/Documents/GitHub/mail-spell-checker/test/index.spec.ts[2mtest/[22m[1mindex.spec.ts[22m]8;;

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A  mailSpellChecker

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    run

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mcalls the 'suggested' callback with the element and result when there's a suggestion (2 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mcalls the 'empty' callback with the element when there's no suggestion (2 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mcalls the 'empty' callback with the element when email is empty (1 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mreturns the result when 'suggested' callback is not defined (1 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mtakes in an array of specified domains (1 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [31mâœ•[39m [2mvalidates common emails (2 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    parseEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mreturns a hash of the address, the domain, and the top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2msplits RFC compliant emails (1 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mreturns false for email addresses that are not RFC compliant[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mtrims spaces from the start and end of the string[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      findClosestDomain

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [32mâœ“[39m [2mreturns the most similar domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [32mâœ“[39m [2mreturns the most similar second-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [32mâœ“[39m [2mreturns the most similar top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    encodeEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mescapes the element's value (1 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mallows valid special characters[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[1m[31m  [1mâ— [22m[1mmailSpellChecker â€º run â€º validates common emails[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoEqual[2m([22m[32mexpected[39m[2m) // deep equality[22m

    Expected: [32m{"address": "test", "domain": "zoho.com", "full": "test@zoho.com"}[39m
    Received: [31mundefined[39m
[2m[22m
[2m    [0m [90m 128 |[39m           domains[33m:[39m domains[33m,[39m[0m[22m
[2m    [0m [90m 129 |[39m         })[0m[22m
[2m    [0m[31m[1m>[22m[2m[39m[90m 130 |[39m       )[33m.[39mtoEqual({[0m[22m
[2m    [0m [90m     |[39m         [31m[1m^[22m[2m[39m[0m[22m
[2m    [0m [90m 131 |[39m         address[33m:[39m [32m'test'[39m[33m,[39m[0m[22m
[2m    [0m [90m 132 |[39m         domain[33m:[39m [32m'zoho.com'[39m[33m,[39m[0m[22m
[2m    [0m [90m 133 |[39m         full[33m:[39m [32m'test@zoho.com'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36mtest/index.spec.ts[39m[0m[2m:130:9)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K[1m[2mRunning coverage on untested files...[22m[22m[999D[K------------------------------|---------|----------|---------|---------|-------------------
File                          | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------------------------|---------|----------|---------|---------|-------------------
[32;1mAll files                    [0m | [32;1m  90.43[0m | [32;1m   83.33[0m | [32;1m    100[0m | [32;1m     90[0m | [31;1m                 [0m 
[31;1m src                         [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m                 [0m 
[31;1m  index.ts                   [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m1-9              [0m 
[32;1m src/lib                     [0m | [32;1m   90.7[0m | [33;1m   78.38[0m | [32;1m    100[0m | [32;1m   90.7[0m | [31;1m                 [0m 
[32;1m  run.ts                     [0m | [32;1m    100[0m | [32;1m      90[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m8                [0m 
[32;1m  suggest-email.ts           [0m | [32;1m   87.1[0m | [33;1m   74.07[0m | [32;1m    100[0m | [32;1m   87.1[0m | [31;1m29,43,89-93      [0m 
[32;1m src/lib/config              [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  index.ts                   [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m src/lib/helpers             [0m | [32;1m  95.08[0m | [32;1m   88.57[0m | [32;1m    100[0m | [32;1m  94.83[0m | [31;1m                 [0m 
[32;1m  asser-valid-user-options.ts[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[33;1m  assert.ts                  [0m | [33;1m  66.67[0m | [33;1m      50[0m | [32;1m    100[0m | [33;1m  66.67[0m | [31;1m3                [0m 
[32;1m  distance-function.ts       [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  encode-email.ts            [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  find-closest-domain.ts     [0m | [32;1m  94.12[0m | [32;1m   84.62[0m | [32;1m    100[0m | [32;1m  93.75[0m | [31;1m19               [0m 
[32;1m  get-options.ts             [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  parse-email.ts             [0m | [32;1m     96[0m | [32;1m    87.5[0m | [32;1m    100[0m | [32;1m  95.65[0m | [31;1m30               [0m 
[32;1m  trim.ts                    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
------------------------------|---------|----------|---------|---------|-------------------
[1mTest Suites: [22m[1m[31m1 failed[39m[22m, 1 total
[1mTests:       [22m[1m[31m1 failed[39m[22m, [1m[32m14 passed[39m[22m, 15 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        0.781 s, estimated 1 s
[2mRan all test suites[22m[2m.[22m
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[?2004l
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[H[2J[0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [Knpm run test[?2004l

> @zootools/email-spell-checker@1.2.0 test
> jest --coverage

[1m[2mDetermining test suites to run...[22m[22m[999D[K
[K[1A[999D[K
[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[0m[7m[1m[31m FAIL [39m[22m[27m[0m ]8;;file:///Users/jorgeferreiro/Documents/GitHub/mail-spell-checker/test/index.spec.ts[2mtest/[22m[1mindex.spec.ts[22m]8;;

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A  mailSpellChecker

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    run

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mcalls the 'suggested' callback with the element and result when there's a suggestion (2 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mcalls the 'empty' callback with the element when there's no suggestion (2 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mcalls the 'empty' callback with the element when email is empty[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mreturns the result when 'suggested' callback is not defined[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mtakes in an array of specified domains (1 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [31mâœ•[39m [2mvalidates common emails (3 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    parseEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mreturns a hash of the address, the domain, and the top-level domain (4 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2msplits RFC compliant emails (1 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mreturns false for email addresses that are not RFC compliant[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mtrims spaces from the start and end of the string[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      findClosestDomain

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [32mâœ“[39m [2mreturns the most similar domain (1 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [32mâœ“[39m [2mreturns the most similar second-level domain (1 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [32mâœ“[39m [2mreturns the most similar top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    encodeEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mescapes the element's value[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mallows valid special characters[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[1m[31m  [1mâ— [22m[1mmailSpellChecker â€º run â€º validates common emails[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoEqual[2m([22m[32mexpected[39m[2m) // deep equality[22m

    [32m- Expected  - 2[39m
    [31m+ Received  + 2[39m

    [2m  Object {[22m
    [2m    "address": "test",[22m
    [32m-   "domain": "yahoo.com",[39m
    [32m-   "full": "test@yahoo.com",[39m
    [31m+   "domain": "zoho.com",[39m
    [31m+   "full": "test@zoho.com",[39m
    [2m  }[22m
[2m[22m
[2m    [0m [90m 118 |[39m           domains[33m:[39m domains[33m,[39m[0m[22m
[2m    [0m [90m 119 |[39m         })[0m[22m
[2m    [0m[31m[1m>[22m[2m[39m[90m 120 |[39m       )[33m.[39mtoEqual({[0m[22m
[2m    [0m [90m     |[39m         [31m[1m^[22m[2m[39m[0m[22m
[2m    [0m [90m 121 |[39m         address[33m:[39m [32m'test'[39m[33m,[39m[0m[22m
[2m    [0m [90m 122 |[39m         domain[33m:[39m [32m'yahoo.com'[39m[33m,[39m[0m[22m
[2m    [0m [90m 123 |[39m         full[33m:[39m [32m'test@yahoo.com'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36mtest/index.spec.ts[39m[0m[2m:120:9)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K[1m[2mRunning coverage on untested files...[22m[22m[999D[K------------------------------|---------|----------|---------|---------|----------------------
File                          | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s    
------------------------------|---------|----------|---------|---------|----------------------
[32;1mAll files                    [0m | [32;1m  87.83[0m | [33;1m   79.17[0m | [32;1m    100[0m | [32;1m  87.27[0m | [31;1m                    [0m 
[31;1m src                         [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m                    [0m 
[31;1m  index.ts                   [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m1-9                 [0m 
[32;1m src/lib                     [0m | [32;1m  83.72[0m | [33;1m   70.27[0m | [32;1m    100[0m | [32;1m  83.72[0m | [31;1m                    [0m 
[32;1m  run.ts                     [0m | [32;1m    100[0m | [32;1m      90[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m8                   [0m 
[33;1m  suggest-email.ts           [0m | [33;1m  77.42[0m | [33;1m   62.96[0m | [32;1m    100[0m | [33;1m  77.42[0m | [31;1m29,43,76-80,89-93,97[0m 
[32;1m src/lib/config              [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
[32;1m  index.ts                   [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
[32;1m src/lib/helpers             [0m | [32;1m  95.08[0m | [32;1m   88.57[0m | [32;1m    100[0m | [32;1m  94.83[0m | [31;1m                    [0m 
[32;1m  asser-valid-user-options.ts[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
[33;1m  assert.ts                  [0m | [33;1m  66.67[0m | [33;1m      50[0m | [32;1m    100[0m | [33;1m  66.67[0m | [31;1m3                   [0m 
[32;1m  distance-function.ts       [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
[32;1m  encode-email.ts            [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
[32;1m  find-closest-domain.ts     [0m | [32;1m  94.12[0m | [32;1m   84.62[0m | [32;1m    100[0m | [32;1m  93.75[0m | [31;1m19                  [0m 
[32;1m  get-options.ts             [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
[32;1m  parse-email.ts             [0m | [32;1m     96[0m | [32;1m    87.5[0m | [32;1m    100[0m | [32;1m  95.65[0m | [31;1m30                  [0m 
[32;1m  trim.ts                    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
------------------------------|---------|----------|---------|---------|----------------------
[1mTest Suites: [22m[1m[31m1 failed[39m[22m, 1 total
[1mTests:       [22m[1m[31m1 failed[39m[22m, [1m[32m14 passed[39m[22m, 15 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        0.772 s, estimated 1 s
[2mRan all test suites[22m[2m.[22m
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[?2004l
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[H[2J[0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [Knpm run test[?2004l

> @zootools/email-spell-checker@1.2.0 test
> jest --coverage

[1m[2mDetermining test suites to run...[22m[22m[999D[K
[K[1A[999D[K
[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[0m[7m[1m[31m FAIL [39m[22m[27m[0m ]8;;file:///Users/jorgeferreiro/Documents/GitHub/mail-spell-checker/test/index.spec.ts[2mtest/[22m[1mindex.spec.ts[22m]8;;

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A  mailSpellChecker

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    run

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mcalls the 'suggested' callback with the element and result when there's a suggestion (2 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mcalls the 'empty' callback with the element when there's no suggestion (3 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mcalls the 'empty' callback with the element when email is empty (1 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mreturns the result when 'suggested' callback is not defined (1 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mtakes in an array of specified domains[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [31mâœ•[39m [2mvalidates common emails (2 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    parseEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mreturns a hash of the address, the domain, and the top-level domain (1 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2msplits RFC compliant emails[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mreturns false for email addresses that are not RFC compliant[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mtrims spaces from the start and end of the string[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      findClosestDomain

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [32mâœ“[39m [2mreturns the most similar domain (1 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [32mâœ“[39m [2mreturns the most similar second-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [32mâœ“[39m [2mreturns the most similar top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    encodeEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mescapes the element's value[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mallows valid special characters[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[1m[31m  [1mâ— [22m[1mmailSpellChecker â€º run â€º validates common emails[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoEqual[2m([22m[32mexpected[39m[2m) // deep equality[22m

    [32m- Expected  - 2[39m
    [31m+ Received  + 2[39m

    [2m  Object {[22m
    [2m    "address": "test",[22m
    [32m-   "domain": "yahoo.com",[39m
    [32m-   "full": "test@yahoo.com",[39m
    [31m+   "domain": "zoho.com",[39m
    [31m+   "full": "test@zoho.com",[39m
    [2m  }[22m
[2m[22m
[2m    [0m [90m 113 |[39m           domains[33m:[39m domains[33m,[39m[0m[22m
[2m    [0m [90m 114 |[39m         })[0m[22m
[2m    [0m[31m[1m>[22m[2m[39m[90m 115 |[39m       )[33m.[39mtoEqual({[0m[22m
[2m    [0m [90m     |[39m         [31m[1m^[22m[2m[39m[0m[22m
[2m    [0m [90m 116 |[39m         address[33m:[39m [32m'test'[39m[33m,[39m[0m[22m
[2m    [0m [90m 117 |[39m         domain[33m:[39m [32m'yahoo.com'[39m[33m,[39m[0m[22m
[2m    [0m [90m 118 |[39m         full[33m:[39m [32m'test@yahoo.com'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36mtest/index.spec.ts[39m[0m[2m:115:9)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K[1m[2mRunning coverage on untested files...[22m[22m[999D[K------------------------------|---------|----------|---------|---------|----------------------
File                          | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s    
------------------------------|---------|----------|---------|---------|----------------------
[32;1mAll files                    [0m | [32;1m  87.83[0m | [33;1m   79.17[0m | [32;1m    100[0m | [32;1m  87.27[0m | [31;1m                    [0m 
[31;1m src                         [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m                    [0m 
[31;1m  index.ts                   [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m1-9                 [0m 
[32;1m src/lib                     [0m | [32;1m  83.72[0m | [33;1m   70.27[0m | [32;1m    100[0m | [32;1m  83.72[0m | [31;1m                    [0m 
[32;1m  run.ts                     [0m | [32;1m    100[0m | [32;1m      90[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m8                   [0m 
[33;1m  suggest-email.ts           [0m | [33;1m  77.42[0m | [33;1m   62.96[0m | [32;1m    100[0m | [33;1m  77.42[0m | [31;1m29,43,76-80,89-93,97[0m 
[32;1m src/lib/config              [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
[32;1m  index.ts                   [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
[32;1m src/lib/helpers             [0m | [32;1m  95.08[0m | [32;1m   88.57[0m | [32;1m    100[0m | [32;1m  94.83[0m | [31;1m                    [0m 
[32;1m  asser-valid-user-options.ts[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
[33;1m  assert.ts                  [0m | [33;1m  66.67[0m | [33;1m      50[0m | [32;1m    100[0m | [33;1m  66.67[0m | [31;1m3                   [0m 
[32;1m  distance-function.ts       [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
[32;1m  encode-email.ts            [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
[32;1m  find-closest-domain.ts     [0m | [32;1m  94.12[0m | [32;1m   84.62[0m | [32;1m    100[0m | [32;1m  93.75[0m | [31;1m19                  [0m 
[32;1m  get-options.ts             [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
[32;1m  parse-email.ts             [0m | [32;1m     96[0m | [32;1m    87.5[0m | [32;1m    100[0m | [32;1m  95.65[0m | [31;1m30                  [0m 
[32;1m  trim.ts                    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
------------------------------|---------|----------|---------|---------|----------------------
[1mTest Suites: [22m[1m[31m1 failed[39m[22m, 1 total
[1mTests:       [22m[1m[31m1 failed[39m[22m, [1m[32m14 passed[39m[22m, 15 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        0.771 s, estimated 1 s
[2mRan all test suites[22m[2m.[22m
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[?2004l
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[H[2J[0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004l
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004hnpm run test[?2004l

> @zootools/email-spell-checker@1.2.0 test
> jest --coverage

[1m[2mDetermining test suites to run...[22m[22m[999D[K
[K[1A[999D[K
[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[0m[7m[1m[31m FAIL [39m[22m[27m[0m ]8;;file:///Users/jorgeferreiro/Documents/GitHub/mail-spell-checker/test/index.spec.ts[2mtest/[22m[1mindex.spec.ts[22m]8;;

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A  mailSpellChecker

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    run

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mcalls the 'suggested' callback with the element and result when there's a suggestion (2 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mcalls the 'empty' callback with the element when there's no suggestion (4 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mcalls the 'empty' callback with the element when email is empty (1 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mreturns the result when 'suggested' callback is not defined (1 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mtakes in an array of specified domains[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [31mâœ•[39m [2mvalidates common emails (3 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    parseEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mreturns a hash of the address, the domain, and the top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2msplits RFC compliant emails[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mreturns false for email addresses that are not RFC compliant[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mtrims spaces from the start and end of the string[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      findClosestDomain

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [32mâœ“[39m [2mreturns the most similar domain (1 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [32mâœ“[39m [2mreturns the most similar second-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [32mâœ“[39m [2mreturns the most similar top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    encodeEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mescapes the element's value[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mallows valid special characters[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[1m[31m  [1mâ— [22m[1mmailSpellChecker â€º run â€º validates common emails[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoEqual[2m([22m[32mexpected[39m[2m) // deep equality[22m

    [32m- Expected  - 2[39m
    [31m+ Received  + 2[39m

    [2m  Object {[22m
    [2m    "address": "test",[22m
    [32m-   "domain": "yahoo.com",[39m
    [32m-   "full": "test@yahoo.com",[39m
    [31m+   "domain": "zoho.com",[39m
    [31m+   "full": "test@zoho.com",[39m
    [2m  }[22m
[2m[22m
[2m    [0m [90m 113 |[39m           domains[33m:[39m domains[33m,[39m[0m[22m
[2m    [0m [90m 114 |[39m         })[0m[22m
[2m    [0m[31m[1m>[22m[2m[39m[90m 115 |[39m       )[33m.[39mtoEqual({[0m[22m
[2m    [0m [90m     |[39m         [31m[1m^[22m[2m[39m[0m[22m
[2m    [0m [90m 116 |[39m         address[33m:[39m [32m'test'[39m[33m,[39m[0m[22m
[2m    [0m [90m 117 |[39m         domain[33m:[39m [32m'yahoo.com'[39m[33m,[39m[0m[22m
[2m    [0m [90m 118 |[39m         full[33m:[39m [32m'test@yahoo.com'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36mtest/index.spec.ts[39m[0m[2m:115:9)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K[1m[2mRunning coverage on untested files...[22m[22m[999D[K------------------------------|---------|----------|---------|---------|----------------------
File                          | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s    
------------------------------|---------|----------|---------|---------|----------------------
[32;1mAll files                    [0m | [32;1m  87.83[0m | [33;1m   79.17[0m | [32;1m    100[0m | [32;1m  87.27[0m | [31;1m                    [0m 
[31;1m src                         [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m                    [0m 
[31;1m  index.ts                   [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m1-9                 [0m 
[32;1m src/lib                     [0m | [32;1m  83.72[0m | [33;1m   70.27[0m | [32;1m    100[0m | [32;1m  83.72[0m | [31;1m                    [0m 
[32;1m  run.ts                     [0m | [32;1m    100[0m | [32;1m      90[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m8                   [0m 
[33;1m  suggest-email.ts           [0m | [33;1m  77.42[0m | [33;1m   62.96[0m | [32;1m    100[0m | [33;1m  77.42[0m | [31;1m29,43,76-80,89-93,97[0m 
[32;1m src/lib/config              [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
[32;1m  index.ts                   [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
[32;1m src/lib/helpers             [0m | [32;1m  95.08[0m | [32;1m   88.57[0m | [32;1m    100[0m | [32;1m  94.83[0m | [31;1m                    [0m 
[32;1m  asser-valid-user-options.ts[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
[33;1m  assert.ts                  [0m | [33;1m  66.67[0m | [33;1m      50[0m | [32;1m    100[0m | [33;1m  66.67[0m | [31;1m3                   [0m 
[32;1m  distance-function.ts       [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
[32;1m  encode-email.ts            [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
[32;1m  find-closest-domain.ts     [0m | [32;1m  94.12[0m | [32;1m   84.62[0m | [32;1m    100[0m | [32;1m  93.75[0m | [31;1m19                  [0m 
[32;1m  get-options.ts             [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
[32;1m  parse-email.ts             [0m | [32;1m     96[0m | [32;1m    87.5[0m | [32;1m    100[0m | [32;1m  95.65[0m | [31;1m30                  [0m 
[32;1m  trim.ts                    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
------------------------------|---------|----------|---------|---------|----------------------
[1mTest Suites: [22m[1m[31m1 failed[39m[22m, 1 total
[1mTests:       [22m[1m[31m1 failed[39m[22m, [1m[32m14 passed[39m[22m, 15 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        0.799 s, estimated 1 s
[2mRan all test suites[22m[2m.[22m
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[?2004l
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[H[2J[0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [Knpm run test[?2004l

> @zootools/email-spell-checker@1.2.0 test
> jest --coverage

[1m[2mDetermining test suites to run...[22m[22m[999D[K
[K[1A[999D[K
[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[0m[7m[1m[31m FAIL [39m[22m[27m[0m ]8;;file:///Users/jorgeferreiro/Documents/GitHub/mail-spell-checker/test/index.spec.ts[2mtest/[22m[1mindex.spec.ts[22m]8;;

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A  mailSpellChecker

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    run

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mcalls the 'suggested' callback with the element and result when there's a suggestion (3 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mcalls the 'empty' callback with the element when there's no suggestion (3 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mcalls the 'empty' callback with the element when email is empty (1 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mreturns the result when 'suggested' callback is not defined (1 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mtakes in an array of specified domains (1 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [31mâœ•[39m [2mvalidates common emails (4 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    parseEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mreturns a hash of the address, the domain, and the top-level domain (3 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2msplits RFC compliant emails[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mreturns false for email addresses that are not RFC compliant (1 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mtrims spaces from the start and end of the string[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      findClosestDomain

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [32mâœ“[39m [2mreturns the most similar domain (1 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [32mâœ“[39m [2mreturns the most similar second-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [32mâœ“[39m [2mreturns the most similar top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    encodeEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mescapes the element's value[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [32mâœ“[39m [2mallows valid special characters[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[1m[31m  [1mâ— [22m[1mmailSpellChecker â€º run â€º validates common emails[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoEqual[2m([22m[32mexpected[39m[2m) // deep equality[22m

    [32m- Expected  - 2[39m
    [31m+ Received  + 2[39m

    [2m  Object {[22m
    [2m    "address": "test",[22m
    [32m-   "domain": "yahoo.com",[39m
    [32m-   "full": "test@yahoo.com",[39m
    [31m+   "domain": "zoho.com",[39m
    [31m+   "full": "test@zoho.com",[39m
    [2m  }[22m
[2m[22m
[2m    [0m [90m 124 |[39m           domains[33m:[39m domains[33m,[39m[0m[22m
[2m    [0m [90m 125 |[39m         })[0m[22m
[2m    [0m[31m[1m>[22m[2m[39m[90m 126 |[39m       )[33m.[39mtoEqual({[0m[22m
[2m    [0m [90m     |[39m         [31m[1m^[22m[2m[39m[0m[22m
[2m    [0m [90m 127 |[39m         address[33m:[39m [32m'test'[39m[33m,[39m[0m[22m
[2m    [0m [90m 128 |[39m         domain[33m:[39m [32m'yahoo.com'[39m[33m,[39m[0m[22m
[2m    [0m [90m 129 |[39m         full[33m:[39m [32m'test@yahoo.com'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36mtest/index.spec.ts[39m[0m[2m:126:9)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K[1m[2mRunning coverage on untested files...[22m[22m[999D[K------------------------------|---------|----------|---------|---------|----------------------
File                          | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s    
------------------------------|---------|----------|---------|---------|----------------------
[32;1mAll files                    [0m | [32;1m  87.83[0m | [33;1m   79.17[0m | [32;1m    100[0m | [32;1m  87.27[0m | [31;1m                    [0m 
[31;1m src                         [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m                    [0m 
[31;1m  index.ts                   [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m1-9                 [0m 
[32;1m src/lib                     [0m | [32;1m  83.72[0m | [33;1m   70.27[0m | [32;1m    100[0m | [32;1m  83.72[0m | [31;1m                    [0m 
[32;1m  run.ts                     [0m | [32;1m    100[0m | [32;1m      90[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m8                   [0m 
[33;1m  suggest-email.ts           [0m | [33;1m  77.42[0m | [33;1m   62.96[0m | [32;1m    100[0m | [33;1m  77.42[0m | [31;1m29,43,76-80,89-93,97[0m 
[32;1m src/lib/config              [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
[32;1m  index.ts                   [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
[32;1m src/lib/helpers             [0m | [32;1m  95.08[0m | [32;1m   88.57[0m | [32;1m    100[0m | [32;1m  94.83[0m | [31;1m                    [0m 
[32;1m  asser-valid-user-options.ts[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
[33;1m  assert.ts                  [0m | [33;1m  66.67[0m | [33;1m      50[0m | [32;1m    100[0m | [33;1m  66.67[0m | [31;1m3                   [0m 
[32;1m  distance-function.ts       [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
[32;1m  encode-email.ts            [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
[32;1m  find-closest-domain.ts     [0m | [32;1m  94.12[0m | [32;1m   84.62[0m | [32;1m    100[0m | [32;1m  93.75[0m | [31;1m19                  [0m 
[32;1m  get-options.ts             [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
[32;1m  parse-email.ts             [0m | [32;1m     96[0m | [32;1m    87.5[0m | [32;1m    100[0m | [32;1m  95.65[0m | [31;1m30                  [0m 
[32;1m  trim.ts                    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                    [0m 
------------------------------|---------|----------|---------|---------|----------------------
[1mTest Suites: [22m[1m[31m1 failed[39m[22m, 1 total
[1mTests:       [22m[1m[31m1 failed[39m[22m, [1m[32m14 passed[39m[22m, 15 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        0.814 s, estimated 1 s
[2mRan all test suites[22m[2m.[22m
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[?2004l
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[H[2J[0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [Knpm run test[?2004l

> @zootools/email-spell-checker@1.2.0 test
> jest --coverage

[1m[2mDetermining test suites to run...[22m[22m[999D[K
[K[1A[999D[K
[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[0m[7m[1m[31m FAIL [39m[22m[27m[0m ]8;;file:///Users/jorgeferreiro/Documents/GitHub/mail-spell-checker/test/index.spec.ts[2mtest/[22m[1mindex.spec.ts[22m]8;;

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A  mailSpellChecker

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    run

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [31mâœ•[39m [2mvalidates common emails (4 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'suggested' callback with the element and result when there's a suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'empty' callback with the element when there's no suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'empty' callback with the element when email is empty[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns the result when 'suggested' callback is not defined[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped takes in an array of specified domains[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    parseEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns a hash of the address, the domain, and the top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped splits RFC compliant emails[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns false for email addresses that are not RFC compliant[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped trims spaces from the start and end of the string[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      findClosestDomain

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar second-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    encodeEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped escapes the element's value[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped allows valid special characters[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[1m[31m  [1mâ— [22m[1mmailSpellChecker â€º run â€º validates common emails[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoEqual[2m([22m[32mexpected[39m[2m) // deep equality[22m

    [32m- Expected  - 2[39m
    [31m+ Received  + 2[39m

    [2m  Object {[22m
    [2m    "address": "test",[22m
    [32m-   "domain": "yahoo.com",[39m
    [32m-   "full": "test@yahoo.com",[39m
    [31m+   "domain": "zoho.com",[39m
    [31m+   "full": "test@zoho.com",[39m
    [2m  }[22m
[2m[22m
[2m    [0m [90m 124 |[39m           domains[33m:[39m domains[33m,[39m[0m[22m
[2m    [0m [90m 125 |[39m         })[0m[22m
[2m    [0m[31m[1m>[22m[2m[39m[90m 126 |[39m       )[33m.[39mtoEqual({[0m[22m
[2m    [0m [90m     |[39m         [31m[1m^[22m[2m[39m[0m[22m
[2m    [0m [90m 127 |[39m         address[33m:[39m [32m'test'[39m[33m,[39m[0m[22m
[2m    [0m [90m 128 |[39m         domain[33m:[39m [32m'yahoo.com'[39m[33m,[39m[0m[22m
[2m    [0m [90m 129 |[39m         full[33m:[39m [32m'test@yahoo.com'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36mtest/index.spec.ts[39m[0m[2m:126:9)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K[1m[2mRunning coverage on untested files...[22m[22m[999D[K------------------------------|---------|----------|---------|---------|-------------------
File                          | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------------------------|---------|----------|---------|---------|-------------------
[33;1mAll files                    [0m | [33;1m  73.04[0m | [33;1m   54.17[0m | [32;1m    100[0m | [33;1m  71.82[0m | [31;1m                 [0m 
[31;1m src                         [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m                 [0m 
[31;1m  index.ts                   [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m1-9              [0m 
[33;1m src/lib                     [0m | [33;1m  55.81[0m | [31;1m   37.84[0m | [32;1m    100[0m | [33;1m  55.81[0m | [31;1m                 [0m 
[32;1m  run.ts                     [0m | [32;1m  83.33[0m | [33;1m      60[0m | [32;1m    100[0m | [32;1m  83.33[0m | [31;1m12,15            [0m 
[31;1m  suggest-email.ts           [0m | [31;1m  45.16[0m | [31;1m   29.63[0m | [32;1m    100[0m | [31;1m  45.16[0m | [31;1m11,29,43,55-109  [0m 
[32;1m src/lib/config              [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  index.ts                   [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m src/lib/helpers             [0m | [32;1m  86.89[0m | [33;1m   71.43[0m | [32;1m    100[0m | [32;1m  86.21[0m | [31;1m                 [0m 
[32;1m  asser-valid-user-options.ts[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[33;1m  assert.ts                  [0m | [33;1m  66.67[0m | [33;1m      50[0m | [32;1m    100[0m | [33;1m  66.67[0m | [31;1m3                [0m 
[32;1m  distance-function.ts       [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  encode-email.ts            [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  find-closest-domain.ts     [0m | [32;1m  82.35[0m | [33;1m   69.23[0m | [32;1m    100[0m | [32;1m  81.25[0m | [31;1m19,24,36         [0m 
[32;1m  get-options.ts             [0m | [32;1m    100[0m | [32;1m   91.67[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m7                [0m 
[32;1m  parse-email.ts             [0m | [32;1m     84[0m | [33;1m      50[0m | [32;1m    100[0m | [32;1m  82.61[0m | [31;1m11,16,30,33      [0m 
[32;1m  trim.ts                    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
------------------------------|---------|----------|---------|---------|-------------------
[1mTest Suites: [22m[1m[31m1 failed[39m[22m, 1 total
[1mTests:       [22m[1m[31m1 failed[39m[22m, [1m[33m14 skipped[39m[22m, 15 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        0.811 s, estimated 1 s
[2mRan all test suites[22m[2m.[22m
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[?2004l
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[H[2J[0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [Knpm run test[?2004l

> @zootools/email-spell-checker@1.2.0 test
> jest --coverage

[1m[2mDetermining test suites to run...[22m[22m[999D[K
[K[1A[999D[K
[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1ABrowserslist: caniuse-lite is outdated. Please run:
  npx browserslist@latest --update-db
  Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[0m[7m[1m[31m FAIL [39m[22m[27m[0m ]8;;file:///Users/jorgeferreiro/Documents/GitHub/mail-spell-checker/test/index.spec.ts[2mtest/[22m[1mindex.spec.ts[22m]8;;

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A  mailSpellChecker

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    run

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [31mâœ•[39m [2mvalidates common emails (20 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'suggested' callback with the element and result when there's a suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'empty' callback with the element when there's no suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'empty' callback with the element when email is empty[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns the result when 'suggested' callback is not defined[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped takes in an array of specified domains[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    parseEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns a hash of the address, the domain, and the top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped splits RFC compliant emails[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns false for email addresses that are not RFC compliant[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped trims spaces from the start and end of the string[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      findClosestDomain

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar second-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    encodeEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped escapes the element's value[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped allows valid special characters[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[1m[31m  [1mâ— [22m[1mmailSpellChecker â€º run â€º validates common emails[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoEqual[2m([22m[32mexpected[39m[2m) // deep equality[22m

    [32m- Expected  - 2[39m
    [31m+ Received  + 2[39m

    [2m  Object {[22m
    [2m    "address": "test",[22m
    [32m-   "domain": "yahoo.com",[39m
    [32m-   "full": "test@yahoo.com",[39m
    [31m+   "domain": "zoho.com",[39m
    [31m+   "full": "test@zoho.com",[39m
    [2m  }[22m
[2m[22m
[2m    [0m [90m 124 |[39m           domains[33m:[39m domains[33m,[39m[0m[22m
[2m    [0m [90m 125 |[39m         })[0m[22m
[2m    [0m[31m[1m>[22m[2m[39m[90m 126 |[39m       )[33m.[39mtoEqual({[0m[22m
[2m    [0m [90m     |[39m         [31m[1m^[22m[2m[39m[0m[22m
[2m    [0m [90m 127 |[39m         address[33m:[39m [32m'test'[39m[33m,[39m[0m[22m
[2m    [0m [90m 128 |[39m         domain[33m:[39m [32m'yahoo.com'[39m[33m,[39m[0m[22m
[2m    [0m [90m 129 |[39m         full[33m:[39m [32m'test@yahoo.com'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36mtest/index.spec.ts[39m[0m[2m:126:9)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K  [2mconsole.log[22m
    email.secondLevelDomain gmal
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:23:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    email.topLevelDomain com
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:24:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    email.secondLevelDomain yaho
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:23:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    email.topLevelDomain com
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:24:13)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K[1m[2mRunning coverage on untested files...[22m[22m[999D[K------------------------------|---------|----------|---------|---------|-------------------
File                          | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------------------------|---------|----------|---------|---------|-------------------
[33;1mAll files                    [0m | [33;1m   73.5[0m | [33;1m   54.17[0m | [32;1m    100[0m | [33;1m  72.32[0m | [31;1m                 [0m 
[31;1m src                         [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m                 [0m 
[31;1m  index.ts                   [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m1-9              [0m 
[33;1m src/lib                     [0m | [33;1m  57.78[0m | [31;1m   37.84[0m | [32;1m    100[0m | [33;1m  57.78[0m | [31;1m                 [0m 
[32;1m  run.ts                     [0m | [32;1m  83.33[0m | [33;1m      60[0m | [32;1m    100[0m | [32;1m  83.33[0m | [31;1m12,15            [0m 
[31;1m  suggest-email.ts           [0m | [31;1m  48.48[0m | [31;1m   29.63[0m | [32;1m    100[0m | [31;1m  48.48[0m | [31;1m11,31,45,57-111  [0m 
[32;1m src/lib/config              [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  index.ts                   [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m src/lib/helpers             [0m | [32;1m  86.89[0m | [33;1m   71.43[0m | [32;1m    100[0m | [32;1m  86.21[0m | [31;1m                 [0m 
[32;1m  asser-valid-user-options.ts[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[33;1m  assert.ts                  [0m | [33;1m  66.67[0m | [33;1m      50[0m | [32;1m    100[0m | [33;1m  66.67[0m | [31;1m3                [0m 
[32;1m  distance-function.ts       [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  encode-email.ts            [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  find-closest-domain.ts     [0m | [32;1m  82.35[0m | [33;1m   69.23[0m | [32;1m    100[0m | [32;1m  81.25[0m | [31;1m19,24,36         [0m 
[32;1m  get-options.ts             [0m | [32;1m    100[0m | [32;1m   91.67[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m7                [0m 
[32;1m  parse-email.ts             [0m | [32;1m     84[0m | [33;1m      50[0m | [32;1m    100[0m | [32;1m  82.61[0m | [31;1m11,16,30,33      [0m 
[32;1m  trim.ts                    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
------------------------------|---------|----------|---------|---------|-------------------
[1mTest Suites: [22m[1m[31m1 failed[39m[22m, 1 total
[1mTests:       [22m[1m[31m1 failed[39m[22m, [1m[33m14 skipped[39m[22m, 15 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        0.939 s, estimated 1 s
[2mRan all test suites[22m[2m.[22m
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[?2004l
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[H[2J[0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [Knpm run test[?2004l

> @zootools/email-spell-checker@1.2.0 test
> jest --coverage

[1m[2mDetermining test suites to run...[22m[22m[999D[K
[K[1A[999D[K
[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1ABrowserslist: caniuse-lite is outdated. Please run:
  npx browserslist@latest --update-db
  Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[0m[7m[1m[31m FAIL [39m[22m[27m[0m ]8;;file:///Users/jorgeferreiro/Documents/GitHub/mail-spell-checker/test/index.spec.ts[2mtest/[22m[1mindex.spec.ts[22m]8;;

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A  mailSpellChecker

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    run

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [31mâœ•[39m [2mvalidates common emails (22 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'suggested' callback with the element and result when there's a suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'empty' callback with the element when there's no suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'empty' callback with the element when email is empty[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns the result when 'suggested' callback is not defined[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped takes in an array of specified domains[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    parseEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns a hash of the address, the domain, and the top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped splits RFC compliant emails[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns false for email addresses that are not RFC compliant[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped trims spaces from the start and end of the string[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      findClosestDomain

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar second-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    encodeEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped escapes the element's value[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped allows valid special characters[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[1m[31m  [1mâ— [22m[1mmailSpellChecker â€º run â€º validates common emails[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoEqual[2m([22m[32mexpected[39m[2m) // deep equality[22m

    [32m- Expected  - 2[39m
    [31m+ Received  + 2[39m

    [2m  Object {[22m
    [2m    "address": "test",[22m
    [32m-   "domain": "yahoo.com",[39m
    [32m-   "full": "test@yahoo.com",[39m
    [31m+   "domain": "zoho.com",[39m
    [31m+   "full": "test@zoho.com",[39m
    [2m  }[22m
[2m[22m
[2m    [0m [90m 124 |[39m           domains[33m:[39m domains[33m,[39m[0m[22m
[2m    [0m [90m 125 |[39m         })[0m[22m
[2m    [0m[31m[1m>[22m[2m[39m[90m 126 |[39m       )[33m.[39mtoEqual({[0m[22m
[2m    [0m [90m     |[39m         [31m[1m^[22m[2m[39m[0m[22m
[2m    [0m [90m 127 |[39m         address[33m:[39m [32m'test'[39m[33m,[39m[0m[22m
[2m    [0m [90m 128 |[39m         domain[33m:[39m [32m'yahoo.com'[39m[33m,[39m[0m[22m
[2m    [0m [90m 129 |[39m         full[33m:[39m [32m'test@yahoo.com'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36mtest/index.spec.ts[39m[0m[2m:126:9)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K  [2mconsole.log[22m
    email.secondLevelDomain gmal
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:33:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    email.topLevelDomain com
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:34:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    email.domain gmal.com
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:35:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    email.secondLevelDomain yaho
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:33:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    email.topLevelDomain com
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:34:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    email.domain yaho.com
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:35:11)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K[1m[2mRunning coverage on untested files...[22m[22m[999D[K------------------------------|---------|----------|---------|---------|-------------------
File                          | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------------------------|---------|----------|---------|---------|-------------------
[33;1mAll files                    [0m | [33;1m  73.73[0m | [33;1m   54.17[0m | [32;1m    100[0m | [33;1m  72.57[0m | [31;1m                 [0m 
[31;1m src                         [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m                 [0m 
[31;1m  index.ts                   [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m1-9              [0m 
[33;1m src/lib                     [0m | [33;1m   58.7[0m | [31;1m   37.84[0m | [32;1m    100[0m | [33;1m   58.7[0m | [31;1m                 [0m 
[32;1m  run.ts                     [0m | [32;1m  83.33[0m | [33;1m      60[0m | [32;1m    100[0m | [32;1m  83.33[0m | [31;1m12,15            [0m 
[33;1m  suggest-email.ts           [0m | [33;1m     50[0m | [31;1m   29.63[0m | [32;1m    100[0m | [33;1m     50[0m | [31;1m11,29,46,58-112  [0m 
[32;1m src/lib/config              [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  index.ts                   [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m src/lib/helpers             [0m | [32;1m  86.89[0m | [33;1m   71.43[0m | [32;1m    100[0m | [32;1m  86.21[0m | [31;1m                 [0m 
[32;1m  asser-valid-user-options.ts[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[33;1m  assert.ts                  [0m | [33;1m  66.67[0m | [33;1m      50[0m | [32;1m    100[0m | [33;1m  66.67[0m | [31;1m3                [0m 
[32;1m  distance-function.ts       [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  encode-email.ts            [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  find-closest-domain.ts     [0m | [32;1m  82.35[0m | [33;1m   69.23[0m | [32;1m    100[0m | [32;1m  81.25[0m | [31;1m19,24,36         [0m 
[32;1m  get-options.ts             [0m | [32;1m    100[0m | [32;1m   91.67[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m7                [0m 
[32;1m  parse-email.ts             [0m | [32;1m     84[0m | [33;1m      50[0m | [32;1m    100[0m | [32;1m  82.61[0m | [31;1m11,16,30,33      [0m 
[32;1m  trim.ts                    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
------------------------------|---------|----------|---------|---------|-------------------
[1mTest Suites: [22m[1m[31m1 failed[39m[22m, 1 total
[1mTests:       [22m[1m[31m1 failed[39m[22m, [1m[33m14 skipped[39m[22m, 15 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        1.074 s
[2mRan all test suites[22m[2m.[22m
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[?2004l
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[H[2J[0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [Knpm run test[?2004l

> @zootools/email-spell-checker@1.2.0 test
> jest --coverage

[1m[2mDetermining test suites to run...[22m[22m[999D[K
[K[1A[999D[K
[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1ABrowserslist: caniuse-lite is outdated. Please run:
  npx browserslist@latest --update-db
  Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[0m[7m[1m[31m FAIL [39m[22m[27m[0m ]8;;file:///Users/jorgeferreiro/Documents/GitHub/mail-spell-checker/test/index.spec.ts[2mtest/[22m[1mindex.spec.ts[22m]8;;

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A  mailSpellChecker

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    run

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [31mâœ•[39m [2mvalidates common emails (20 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'suggested' callback with the element and result when there's a suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'empty' callback with the element when there's no suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'empty' callback with the element when email is empty[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns the result when 'suggested' callback is not defined[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped takes in an array of specified domains[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    parseEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns a hash of the address, the domain, and the top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped splits RFC compliant emails[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns false for email addresses that are not RFC compliant[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped trims spaces from the start and end of the string[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      findClosestDomain

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar second-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    encodeEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped escapes the element's value[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped allows valid special characters[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[1m[31m  [1mâ— [22m[1mmailSpellChecker â€º run â€º validates common emails[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoEqual[2m([22m[32mexpected[39m[2m) // deep equality[22m

    [32m- Expected  - 2[39m
    [31m+ Received  + 2[39m

    [2m  Object {[22m
    [2m    "address": "test",[22m
    [32m-   "domain": "yahoo.com",[39m
    [32m-   "full": "test@yahoo.com",[39m
    [31m+   "domain": "zoho.com",[39m
    [31m+   "full": "test@zoho.com",[39m
    [2m  }[22m
[2m[22m
[2m    [0m [90m 124 |[39m           domains[33m:[39m domains[33m,[39m[0m[22m
[2m    [0m [90m 125 |[39m         })[0m[22m
[2m    [0m[31m[1m>[22m[2m[39m[90m 126 |[39m       )[33m.[39mtoEqual({[0m[22m
[2m    [0m [90m     |[39m         [31m[1m^[22m[2m[39m[0m[22m
[2m    [0m [90m 127 |[39m         address[33m:[39m [32m'test'[39m[33m,[39m[0m[22m
[2m    [0m [90m 128 |[39m         domain[33m:[39m [32m'yahoo.com'[39m[33m,[39m[0m[22m
[2m    [0m [90m 129 |[39m         full[33m:[39m [32m'test@yahoo.com'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36mtest/index.spec.ts[39m[0m[2m:126:9)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K  [2mconsole.log[22m
    domains [
      'google.com',
      'gmail.com',
      'emaildomain.com',
      'comcast.net',
      'facebook.com',
      'msn.com',
      'zoho.com'
    ]
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:33:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    email.domain gmal.com
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:34:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domains [
      'google.com',
      'gmail.com',
      'emaildomain.com',
      'comcast.net',
      'facebook.com',
      'msn.com',
      'zoho.com'
    ]
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:33:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    email.domain yaho.com
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:34:11)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K[1m[2mRunning coverage on untested files...[22m[22m[999D[K------------------------------|---------|----------|---------|---------|-------------------
File                          | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------------------------|---------|----------|---------|---------|-------------------
[33;1mAll files                    [0m | [33;1m   73.5[0m | [33;1m   54.17[0m | [32;1m    100[0m | [33;1m  72.32[0m | [31;1m                 [0m 
[31;1m src                         [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m                 [0m 
[31;1m  index.ts                   [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m1-9              [0m 
[33;1m src/lib                     [0m | [33;1m  57.78[0m | [31;1m   37.84[0m | [32;1m    100[0m | [33;1m  57.78[0m | [31;1m                 [0m 
[32;1m  run.ts                     [0m | [32;1m  83.33[0m | [33;1m      60[0m | [32;1m    100[0m | [32;1m  83.33[0m | [31;1m12,15            [0m 
[31;1m  suggest-email.ts           [0m | [31;1m  48.48[0m | [31;1m   29.63[0m | [32;1m    100[0m | [31;1m  48.48[0m | [31;1m11,29,45,57-111  [0m 
[32;1m src/lib/config              [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  index.ts                   [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m src/lib/helpers             [0m | [32;1m  86.89[0m | [33;1m   71.43[0m | [32;1m    100[0m | [32;1m  86.21[0m | [31;1m                 [0m 
[32;1m  asser-valid-user-options.ts[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[33;1m  assert.ts                  [0m | [33;1m  66.67[0m | [33;1m      50[0m | [32;1m    100[0m | [33;1m  66.67[0m | [31;1m3                [0m 
[32;1m  distance-function.ts       [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  encode-email.ts            [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  find-closest-domain.ts     [0m | [32;1m  82.35[0m | [33;1m   69.23[0m | [32;1m    100[0m | [32;1m  81.25[0m | [31;1m19,24,36         [0m 
[32;1m  get-options.ts             [0m | [32;1m    100[0m | [32;1m   91.67[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m7                [0m 
[32;1m  parse-email.ts             [0m | [32;1m     84[0m | [33;1m      50[0m | [32;1m    100[0m | [32;1m  82.61[0m | [31;1m11,16,30,33      [0m 
[32;1m  trim.ts                    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
------------------------------|---------|----------|---------|---------|-------------------
[1mTest Suites: [22m[1m[31m1 failed[39m[22m, 1 total
[1mTests:       [22m[1m[31m1 failed[39m[22m, [1m[33m14 skipped[39m[22m, 15 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        0.972 s, estimated 1 s
[2mRan all test suites[22m[2m.[22m
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004hnpm run test[?2004l

> @zootools/email-spell-checker@1.2.0 test
> jest --coverage

[1m[2mDetermining test suites to run...[22m[22m[999D[K
[K[1A[999D[K
[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1ABrowserslist: caniuse-lite is outdated. Please run:
  npx browserslist@latest --update-db
  Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[0m[7m[1m[31m FAIL [39m[22m[27m[0m ]8;;file:///Users/jorgeferreiro/Documents/GitHub/mail-spell-checker/test/index.spec.ts[2mtest/[22m[1mindex.spec.ts[22m]8;;

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A  mailSpellChecker

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    run

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [31mâœ•[39m [2mvalidates common emails (22 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'suggested' callback with the element and result when there's a suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'empty' callback with the element when there's no suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'empty' callback with the element when email is empty[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns the result when 'suggested' callback is not defined[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped takes in an array of specified domains[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    parseEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns a hash of the address, the domain, and the top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped splits RFC compliant emails[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns false for email addresses that are not RFC compliant[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped trims spaces from the start and end of the string[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      findClosestDomain

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar second-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    encodeEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped escapes the element's value[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped allows valid special characters[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[1m[31m  [1mâ— [22m[1mmailSpellChecker â€º run â€º validates common emails[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoEqual[2m([22m[32mexpected[39m[2m) // deep equality[22m

    [32m- Expected  - 2[39m
    [31m+ Received  + 2[39m

    [2m  Object {[22m
    [2m    "address": "test",[22m
    [32m-   "domain": "yahoo.com",[39m
    [32m-   "full": "test@yahoo.com",[39m
    [31m+   "domain": "zoho.com",[39m
    [31m+   "full": "test@zoho.com",[39m
    [2m  }[22m
[2m[22m
[2m    [0m [90m 124 |[39m           domains[33m:[39m domains[33m,[39m[0m[22m
[2m    [0m [90m 125 |[39m         })[0m[22m
[2m    [0m[31m[1m>[22m[2m[39m[90m 126 |[39m       )[33m.[39mtoEqual({[0m[22m
[2m    [0m [90m     |[39m         [31m[1m^[22m[2m[39m[0m[22m
[2m    [0m [90m 127 |[39m         address[33m:[39m [32m'test'[39m[33m,[39m[0m[22m
[2m    [0m [90m 128 |[39m         domain[33m:[39m [32m'yahoo.com'[39m[33m,[39m[0m[22m
[2m    [0m [90m 129 |[39m         full[33m:[39m [32m'test@yahoo.com'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36mtest/index.spec.ts[39m[0m[2m:126:9)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K  [2mconsole.log[22m
    domains [
      'google.com',
      'gmail.com',
      'emaildomain.com',
      'comcast.net',
      'facebook.com',
      'msn.com',
      'zoho.com'
    ]
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:33:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    email.domain gmal.com
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:34:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domains [
      'google.com',
      'gmail.com',
      'emaildomain.com',
      'comcast.net',
      'facebook.com',
      'msn.com',
      'zoho.com'
    ]
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:33:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    email.domain yaho.com
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:34:11)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K[1m[2mRunning coverage on untested files...[22m[22m[999D[K------------------------------|---------|----------|---------|---------|-------------------
File                          | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------------------------|---------|----------|---------|---------|-------------------
[33;1mAll files                    [0m | [33;1m   73.5[0m | [33;1m   54.17[0m | [32;1m    100[0m | [33;1m  72.32[0m | [31;1m                 [0m 
[31;1m src                         [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m                 [0m 
[31;1m  index.ts                   [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m1-9              [0m 
[33;1m src/lib                     [0m | [33;1m  57.78[0m | [31;1m   37.84[0m | [32;1m    100[0m | [33;1m  57.78[0m | [31;1m                 [0m 
[32;1m  run.ts                     [0m | [32;1m  83.33[0m | [33;1m      60[0m | [32;1m    100[0m | [32;1m  83.33[0m | [31;1m12,15            [0m 
[31;1m  suggest-email.ts           [0m | [31;1m  48.48[0m | [31;1m   29.63[0m | [32;1m    100[0m | [31;1m  48.48[0m | [31;1m11,29,45,57-111  [0m 
[32;1m src/lib/config              [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  index.ts                   [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m src/lib/helpers             [0m | [32;1m  86.89[0m | [33;1m   71.43[0m | [32;1m    100[0m | [32;1m  86.21[0m | [31;1m                 [0m 
[32;1m  asser-valid-user-options.ts[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[33;1m  assert.ts                  [0m | [33;1m  66.67[0m | [33;1m      50[0m | [32;1m    100[0m | [33;1m  66.67[0m | [31;1m3                [0m 
[32;1m  distance-function.ts       [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  encode-email.ts            [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  find-closest-domain.ts     [0m | [32;1m  82.35[0m | [33;1m   69.23[0m | [32;1m    100[0m | [32;1m  81.25[0m | [31;1m19,24,36         [0m 
[32;1m  get-options.ts             [0m | [32;1m    100[0m | [32;1m   91.67[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m7                [0m 
[32;1m  parse-email.ts             [0m | [32;1m     84[0m | [33;1m      50[0m | [32;1m    100[0m | [32;1m  82.61[0m | [31;1m11,16,30,33      [0m 
[32;1m  trim.ts                    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
------------------------------|---------|----------|---------|---------|-------------------
[1mTest Suites: [22m[1m[31m1 failed[39m[22m, 1 total
[1mTests:       [22m[1m[31m1 failed[39m[22m, [1m[33m14 skipped[39m[22m, 15 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        0.876 s, estimated 1 s
[2mRan all test suites[22m[2m.[22m
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[?2004l
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[H[2J[0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [Knpm run test[?2004l

> @zootools/email-spell-checker@1.2.0 test
> jest --coverage

[1m[2mDetermining test suites to run...[22m[22m[999D[K
[K[1A[999D[K
[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1ABrowserslist: caniuse-lite is outdated. Please run:
  npx browserslist@latest --update-db
  Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[0m[7m[1m[31m FAIL [39m[22m[27m[0m ]8;;file:///Users/jorgeferreiro/Documents/GitHub/mail-spell-checker/test/index.spec.ts[2mtest/[22m[1mindex.spec.ts[22m]8;;

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A  mailSpellChecker

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    run

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [31mâœ•[39m [2mvalidates common emails (22 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'suggested' callback with the element and result when there's a suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'empty' callback with the element when there's no suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'empty' callback with the element when email is empty[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns the result when 'suggested' callback is not defined[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped takes in an array of specified domains[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    parseEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns a hash of the address, the domain, and the top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped splits RFC compliant emails[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns false for email addresses that are not RFC compliant[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped trims spaces from the start and end of the string[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      findClosestDomain

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar second-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    encodeEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped escapes the element's value[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped allows valid special characters[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[1m[31m  [1mâ— [22m[1mmailSpellChecker â€º run â€º validates common emails[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoEqual[2m([22m[32mexpected[39m[2m) // deep equality[22m

    [32m- Expected  - 2[39m
    [31m+ Received  + 2[39m

    [2m  Object {[22m
    [2m    "address": "test",[22m
    [32m-   "domain": "yahoo.com",[39m
    [32m-   "full": "test@yahoo.com",[39m
    [31m+   "domain": "zoho.com",[39m
    [31m+   "full": "test@zoho.com",[39m
    [2m  }[22m
[2m[22m
[2m    [0m [90m 124 |[39m           domains[33m:[39m domains[33m,[39m[0m[22m
[2m    [0m [90m 125 |[39m         })[0m[22m
[2m    [0m[31m[1m>[22m[2m[39m[90m 126 |[39m       )[33m.[39mtoEqual({[0m[22m
[2m    [0m [90m     |[39m         [31m[1m^[22m[2m[39m[0m[22m
[2m    [0m [90m 127 |[39m         address[33m:[39m [32m'test'[39m[33m,[39m[0m[22m
[2m    [0m [90m 128 |[39m         domain[33m:[39m [32m'yahoo.com'[39m[33m,[39m[0m[22m
[2m    [0m [90m 129 |[39m         full[33m:[39m [32m'test@yahoo.com'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36mtest/index.spec.ts[39m[0m[2m:126:9)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K  [2mconsole.log[22m
    domains [
      'google.com',
      'gmail.com',
      'emaildomain.com',
      'comcast.net',
      'facebook.com',
      'msn.com',
      'zoho.com'
    ]
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:33:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    email.domain gmal.com
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:34:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    closestDomain gmail.com
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:41:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domains [
      'google.com',
      'gmail.com',
      'emaildomain.com',
      'comcast.net',
      'facebook.com',
      'msn.com',
      'zoho.com'
    ]
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:33:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    email.domain yaho.com
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:34:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    closestDomain zoho.com
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:41:11)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K[1m[2mRunning coverage on untested files...[22m[22m[999D[K------------------------------|---------|----------|---------|---------|-------------------
File                          | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------------------------|---------|----------|---------|---------|-------------------
[33;1mAll files                    [0m | [33;1m  73.73[0m | [33;1m   54.17[0m | [32;1m    100[0m | [33;1m  72.57[0m | [31;1m                 [0m 
[31;1m src                         [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m                 [0m 
[31;1m  index.ts                   [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m1-9              [0m 
[33;1m src/lib                     [0m | [33;1m   58.7[0m | [31;1m   37.84[0m | [32;1m    100[0m | [33;1m   58.7[0m | [31;1m                 [0m 
[32;1m  run.ts                     [0m | [32;1m  83.33[0m | [33;1m      60[0m | [32;1m    100[0m | [32;1m  83.33[0m | [31;1m12,15            [0m 
[33;1m  suggest-email.ts           [0m | [33;1m     50[0m | [31;1m   29.63[0m | [32;1m    100[0m | [33;1m     50[0m | [31;1m11,29,46,58-112  [0m 
[32;1m src/lib/config              [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  index.ts                   [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m src/lib/helpers             [0m | [32;1m  86.89[0m | [33;1m   71.43[0m | [32;1m    100[0m | [32;1m  86.21[0m | [31;1m                 [0m 
[32;1m  asser-valid-user-options.ts[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[33;1m  assert.ts                  [0m | [33;1m  66.67[0m | [33;1m      50[0m | [32;1m    100[0m | [33;1m  66.67[0m | [31;1m3                [0m 
[32;1m  distance-function.ts       [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  encode-email.ts            [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  find-closest-domain.ts     [0m | [32;1m  82.35[0m | [33;1m   69.23[0m | [32;1m    100[0m | [32;1m  81.25[0m | [31;1m19,24,36         [0m 
[32;1m  get-options.ts             [0m | [32;1m    100[0m | [32;1m   91.67[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m7                [0m 
[32;1m  parse-email.ts             [0m | [32;1m     84[0m | [33;1m      50[0m | [32;1m    100[0m | [32;1m  82.61[0m | [31;1m11,16,30,33      [0m 
[32;1m  trim.ts                    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
------------------------------|---------|----------|---------|---------|-------------------
[1mTest Suites: [22m[1m[31m1 failed[39m[22m, 1 total
[1mTests:       [22m[1m[31m1 failed[39m[22m, [1m[33m14 skipped[39m[22m, 15 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        0.879 s, estimated 1 s
[2mRan all test suites[22m[2m.[22m
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[?2004l
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[H[2J[0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [Knpm run test[?2004l

> @zootools/email-spell-checker@1.2.0 test
> jest --coverage

[1m[2mDetermining test suites to run...[22m[22m[999D[K
[K[1A[999D[K
[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1ABrowserslist: caniuse-lite is outdated. Please run:
  npx browserslist@latest --update-db
  Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[0m[7m[1m[31m FAIL [39m[22m[27m[0m ]8;;file:///Users/jorgeferreiro/Documents/GitHub/mail-spell-checker/test/index.spec.ts[2mtest/[22m[1mindex.spec.ts[22m]8;;

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A  mailSpellChecker

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    run

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [31mâœ•[39m [2mvalidates common emails (21 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'suggested' callback with the element and result when there's a suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'empty' callback with the element when there's no suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'empty' callback with the element when email is empty[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns the result when 'suggested' callback is not defined[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped takes in an array of specified domains[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    parseEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns a hash of the address, the domain, and the top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped splits RFC compliant emails[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns false for email addresses that are not RFC compliant[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped trims spaces from the start and end of the string[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      findClosestDomain

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar second-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    encodeEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped escapes the element's value[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped allows valid special characters[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[1m[31m  [1mâ— [22m[1mmailSpellChecker â€º run â€º validates common emails[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoEqual[2m([22m[32mexpected[39m[2m) // deep equality[22m

    [32m- Expected  - 2[39m
    [31m+ Received  + 2[39m

    [2m  Object {[22m
    [2m    "address": "test",[22m
    [32m-   "domain": "gmail.com",[39m
    [32m-   "full": "test@gmail.com",[39m
    [31m+   "domain": "mail.com",[39m
    [31m+   "full": "test@mail.com",[39m
    [2m  }[22m
[2m[22m
[2m    [0m [90m 113 |[39m           domains[33m:[39m domains[33m,[39m[0m[22m
[2m    [0m [90m 114 |[39m         })[0m[22m
[2m    [0m[31m[1m>[22m[2m[39m[90m 115 |[39m       )[33m.[39mtoEqual({[0m[22m
[2m    [0m [90m     |[39m         [31m[1m^[22m[2m[39m[0m[22m
[2m    [0m [90m 116 |[39m         address[33m:[39m [32m'test'[39m[33m,[39m[0m[22m
[2m    [0m [90m 117 |[39m         domain[33m:[39m [32m'gmail.com'[39m[33m,[39m[0m[22m
[2m    [0m [90m 118 |[39m         full[33m:[39m [32m'test@gmail.com'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36mtest/index.spec.ts[39m[0m[2m:115:9)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K  [2mconsole.log[22m
    domains [
      'google.com',
      'gmail.com',
      'emaildomain.com',
      'comcast.net',
      'facebook.com',
      'msn.com',
      'zoho.com'
    ]
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:33:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    email.domain gmal.com
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:34:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    closestDomain gmail.com
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:41:11)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K[1m[2mRunning coverage on untested files...[22m[22m[999D[K------------------------------|---------|----------|---------|---------|-------------------
File                          | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------------------------|---------|----------|---------|---------|-------------------
[32;1mAll files                    [0m | [32;1m  84.21[0m | [33;1m   67.65[0m | [32;1m    100[0m | [32;1m  83.49[0m | [31;1m                 [0m 
[31;1m src                         [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m                 [0m 
[31;1m  index.ts                   [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m1-9              [0m 
[32;1m src/lib                     [0m | [32;1m  83.33[0m | [33;1m   60.61[0m | [32;1m    100[0m | [32;1m  83.33[0m | [31;1m                 [0m 
[32;1m  run.ts                     [0m | [32;1m  83.33[0m | [33;1m      60[0m | [32;1m    100[0m | [32;1m  83.33[0m | [31;1m12,15            [0m 
[32;1m  suggest-email.ts           [0m | [32;1m  83.33[0m | [33;1m   60.87[0m | [32;1m    100[0m | [32;1m  83.33[0m | [31;1m11,29,92-96,112  [0m 
[32;1m src/lib/config              [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  index.ts                   [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m src/lib/helpers             [0m | [32;1m  88.52[0m | [33;1m   74.29[0m | [32;1m    100[0m | [32;1m  87.93[0m | [31;1m                 [0m 
[32;1m  asser-valid-user-options.ts[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[33;1m  assert.ts                  [0m | [33;1m  66.67[0m | [33;1m      50[0m | [32;1m    100[0m | [33;1m  66.67[0m | [31;1m3                [0m 
[32;1m  distance-function.ts       [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  encode-email.ts            [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  find-closest-domain.ts     [0m | [32;1m  88.24[0m | [33;1m   76.92[0m | [32;1m    100[0m | [32;1m   87.5[0m | [31;1m19,36            [0m 
[32;1m  get-options.ts             [0m | [32;1m    100[0m | [32;1m   91.67[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m7                [0m 
[32;1m  parse-email.ts             [0m | [32;1m     84[0m | [33;1m      50[0m | [32;1m    100[0m | [32;1m  82.61[0m | [31;1m11,16,30,33      [0m 
[32;1m  trim.ts                    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
------------------------------|---------|----------|---------|---------|-------------------
[1mTest Suites: [22m[1m[31m1 failed[39m[22m, 1 total
[1mTests:       [22m[1m[31m1 failed[39m[22m, [1m[33m14 skipped[39m[22m, 15 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        0.903 s, estimated 1 s
[2mRan all test suites[22m[2m.[22m
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[?2004l
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[H[2J[0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [Knpm run test[?2004l

> @zootools/email-spell-checker@1.2.0 test
> jest --coverage

[1m[2mDetermining test suites to run...[22m[22m[999D[K
[K[1A[999D[K
[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[0m[7m[1m[31m FAIL [39m[22m[27m[0m ]8;;file:///Users/jorgeferreiro/Documents/GitHub/mail-spell-checker/test/index.spec.ts[2mtest/[22m[1mindex.spec.ts[22m]8;;

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A  mailSpellChecker

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    run

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [31mâœ•[39m [2mvalidates common emails (21 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'suggested' callback with the element and result when there's a suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'empty' callback with the element when there's no suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'empty' callback with the element when email is empty[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns the result when 'suggested' callback is not defined[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped takes in an array of specified domains[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    parseEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns a hash of the address, the domain, and the top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped splits RFC compliant emails[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns false for email addresses that are not RFC compliant[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped trims spaces from the start and end of the string[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      findClosestDomain

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar second-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    encodeEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped escapes the element's value[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped allows valid special characters[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[1m[31m  [1mâ— [22m[1mmailSpellChecker â€º run â€º validates common emails[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoEqual[2m([22m[32mexpected[39m[2m) // deep equality[22m

    Expected: [32m{"address": "test", "domain": "zoho.com", "full": "test@zoho.com"}[39m
    Received: [31mundefined[39m
[2m[22m
[2m    [0m [90m 135 |[39m           domains[33m:[39m domains[33m,[39m[0m[22m
[2m    [0m [90m 136 |[39m         })[0m[22m
[2m    [0m[31m[1m>[22m[2m[39m[90m 137 |[39m       )[33m.[39mtoEqual({[0m[22m
[2m    [0m [90m     |[39m         [31m[1m^[22m[2m[39m[0m[22m
[2m    [0m [90m 138 |[39m         address[33m:[39m [32m'test'[39m[33m,[39m[0m[22m
[2m    [0m [90m 139 |[39m         domain[33m:[39m [32m'zoho.com'[39m[33m,[39m[0m[22m
[2m    [0m [90m 140 |[39m         full[33m:[39m [32m'test@zoho.com'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36mtest/index.spec.ts[39m[0m[2m:137:9)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K  [2mconsole.log[22m
    domains [
      'google.com',
      'gmail.com',
      'emaildomain.com',
      'comcast.net',
      'facebook.com',
      'msn.com',
      'zoho.com'
    ]
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:33:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    email.domain yaho.com
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:34:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    closestDomain zoho.com
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:41:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domains [
      'google.com',
      'gmail.com',
      'emaildomain.com',
      'comcast.net',
      'facebook.com',
      'msn.com',
      'zoho.com'
    ]
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:33:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    email.domain zopo.com
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:34:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    closestDomain zoho.com
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:41:11)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K[1m[2mRunning coverage on untested files...[22m[22m[999D[K------------------------------|---------|----------|---------|---------|-------------------
File                          | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------------------------|---------|----------|---------|---------|-------------------
[32;1mAll files                    [0m | [32;1m  85.96[0m | [33;1m   73.53[0m | [32;1m    100[0m | [32;1m  85.32[0m | [31;1m                 [0m 
[31;1m src                         [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m                 [0m 
[31;1m  index.ts                   [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m1-9              [0m 
[32;1m src/lib                     [0m | [32;1m  85.71[0m | [33;1m    69.7[0m | [32;1m    100[0m | [32;1m  85.71[0m | [31;1m                 [0m 
[32;1m  run.ts                     [0m | [32;1m  83.33[0m | [33;1m      70[0m | [32;1m    100[0m | [32;1m  83.33[0m | [31;1m12,15            [0m 
[32;1m  suggest-email.ts           [0m | [32;1m  86.67[0m | [33;1m   69.57[0m | [32;1m    100[0m | [32;1m  86.67[0m | [31;1m11,29,92-96      [0m 
[32;1m src/lib/config              [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  index.ts                   [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m src/lib/helpers             [0m | [32;1m  90.16[0m | [33;1m   77.14[0m | [32;1m    100[0m | [32;1m  89.66[0m | [31;1m                 [0m 
[32;1m  asser-valid-user-options.ts[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[33;1m  assert.ts                  [0m | [33;1m  66.67[0m | [33;1m      50[0m | [32;1m    100[0m | [33;1m  66.67[0m | [31;1m3                [0m 
[32;1m  distance-function.ts       [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  encode-email.ts            [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  find-closest-domain.ts     [0m | [32;1m  94.12[0m | [32;1m   84.62[0m | [32;1m    100[0m | [32;1m  93.75[0m | [31;1m19               [0m 
[32;1m  get-options.ts             [0m | [32;1m    100[0m | [32;1m   91.67[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m7                [0m 
[32;1m  parse-email.ts             [0m | [32;1m     84[0m | [33;1m      50[0m | [32;1m    100[0m | [32;1m  82.61[0m | [31;1m11,16,30,33      [0m 
[32;1m  trim.ts                    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
------------------------------|---------|----------|---------|---------|-------------------
[1mTest Suites: [22m[1m[31m1 failed[39m[22m, 1 total
[1mTests:       [22m[1m[31m1 failed[39m[22m, [1m[33m14 skipped[39m[22m, 15 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        0.787 s, estimated 1 s
[2mRan all test suites[22m[2m.[22m
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[?2004l
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[H[2J[0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [Knpm run test[?2004l

> @zootools/email-spell-checker@1.2.0 test
> jest --coverage

[1m[2mDetermining test suites to run...[22m[22m[999D[K
[K[1A[999D[K
[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[0m[7m[1m[31m FAIL [39m[22m[27m[0m ]8;;file:///Users/jorgeferreiro/Documents/GitHub/mail-spell-checker/test/index.spec.ts[2mtest/[22m[1mindex.spec.ts[22m]8;;

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A  mailSpellChecker

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    run

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [31mâœ•[39m [2mvalidates common emails (27 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'suggested' callback with the element and result when there's a suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'empty' callback with the element when there's no suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'empty' callback with the element when email is empty[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns the result when 'suggested' callback is not defined[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped takes in an array of specified domains[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    parseEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns a hash of the address, the domain, and the top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped splits RFC compliant emails[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns false for email addresses that are not RFC compliant[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped trims spaces from the start and end of the string[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      findClosestDomain

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar second-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    encodeEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped escapes the element's value[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped allows valid special characters[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[1m[31m  [1mâ— [22m[1mmailSpellChecker â€º run â€º validates common emails[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoEqual[2m([22m[32mexpected[39m[2m) // deep equality[22m

    Expected: [32m{"address": "test", "domain": "zoho.com", "full": "test@zoho.com"}[39m
    Received: [31mundefined[39m
[2m[22m
[2m    [0m [90m 135 |[39m           domains[33m:[39m domains[33m,[39m[0m[22m
[2m    [0m [90m 136 |[39m         })[0m[22m
[2m    [0m[31m[1m>[22m[2m[39m[90m 137 |[39m       )[33m.[39mtoEqual({[0m[22m
[2m    [0m [90m     |[39m         [31m[1m^[22m[2m[39m[0m[22m
[2m    [0m [90m 138 |[39m         address[33m:[39m [32m'test'[39m[33m,[39m[0m[22m
[2m    [0m [90m 139 |[39m         domain[33m:[39m [32m'zoho.com'[39m[33m,[39m[0m[22m
[2m    [0m [90m 140 |[39m         full[33m:[39m [32m'test@zoho.com'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36mtest/index.spec.ts[39m[0m[2m:137:9)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K  [2mconsole.log[22m
    domains [
      'google.com',
      'gmail.com',
      'emaildomain.com',
      'comcast.net',
      'facebook.com',
      'msn.com'
    ]
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:33:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    email.domain yaho.com
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:34:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    closestDomain undefined
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:41:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domains [
      'google.com',
      'gmail.com',
      'emaildomain.com',
      'comcast.net',
      'facebook.com',
      'msn.com'
    ]
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:33:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    email.domain zopo.com
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:34:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    closestDomain undefined
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:41:11)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K[1m[2mRunning coverage on untested files...[22m[22m[999D[K------------------------------|---------|----------|---------|---------|-------------------
File                          | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------------------------|---------|----------|---------|---------|-------------------
[32;1mAll files                    [0m | [32;1m  85.96[0m | [33;1m   73.53[0m | [32;1m    100[0m | [32;1m  85.32[0m | [31;1m                 [0m 
[31;1m src                         [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m                 [0m 
[31;1m  index.ts                   [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m1-9              [0m 
[32;1m src/lib                     [0m | [32;1m  85.71[0m | [33;1m    69.7[0m | [32;1m    100[0m | [32;1m  85.71[0m | [31;1m                 [0m 
[32;1m  run.ts                     [0m | [32;1m  83.33[0m | [33;1m      70[0m | [32;1m    100[0m | [32;1m  83.33[0m | [31;1m12,15            [0m 
[32;1m  suggest-email.ts           [0m | [32;1m  86.67[0m | [33;1m   69.57[0m | [32;1m    100[0m | [32;1m  86.67[0m | [31;1m11,29,92-96      [0m 
[32;1m src/lib/config              [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  index.ts                   [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m src/lib/helpers             [0m | [32;1m  90.16[0m | [33;1m   77.14[0m | [32;1m    100[0m | [32;1m  89.66[0m | [31;1m                 [0m 
[32;1m  asser-valid-user-options.ts[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[33;1m  assert.ts                  [0m | [33;1m  66.67[0m | [33;1m      50[0m | [32;1m    100[0m | [33;1m  66.67[0m | [31;1m3                [0m 
[32;1m  distance-function.ts       [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  encode-email.ts            [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  find-closest-domain.ts     [0m | [32;1m  94.12[0m | [32;1m   84.62[0m | [32;1m    100[0m | [32;1m  93.75[0m | [31;1m19               [0m 
[32;1m  get-options.ts             [0m | [32;1m    100[0m | [32;1m   91.67[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m7                [0m 
[32;1m  parse-email.ts             [0m | [32;1m     84[0m | [33;1m      50[0m | [32;1m    100[0m | [32;1m  82.61[0m | [31;1m11,16,30,33      [0m 
[32;1m  trim.ts                    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
------------------------------|---------|----------|---------|---------|-------------------
[1mTest Suites: [22m[1m[31m1 failed[39m[22m, 1 total
[1mTests:       [22m[1m[31m1 failed[39m[22m, [1m[33m14 skipped[39m[22m, 15 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        0.869 s, estimated 1 s
[2mRan all test suites[22m[2m.[22m
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[?2004l
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[H[2J[0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [Knpm run test[?2004l

> @zootools/email-spell-checker@1.2.0 test
> jest --coverage

[1m[2mDetermining test suites to run...[22m[22m[999D[K
[K[1A[999D[K
[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[0m[7m[1m[31m FAIL [39m[22m[27m[0m ]8;;file:///Users/jorgeferreiro/Documents/GitHub/mail-spell-checker/test/index.spec.ts[2mtest/[22m[1mindex.spec.ts[22m]8;;

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A  mailSpellChecker

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    run

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [31mâœ•[39m [2mvalidates common emails (23 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'suggested' callback with the element and result when there's a suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'empty' callback with the element when there's no suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'empty' callback with the element when email is empty[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns the result when 'suggested' callback is not defined[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped takes in an array of specified domains[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    parseEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns a hash of the address, the domain, and the top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped splits RFC compliant emails[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns false for email addresses that are not RFC compliant[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped trims spaces from the start and end of the string[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      findClosestDomain

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar second-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    encodeEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped escapes the element's value[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped allows valid special characters[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[1m[31m  [1mâ— [22m[1mmailSpellChecker â€º run â€º validates common emails[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoEqual[2m([22m[32mexpected[39m[2m) // deep equality[22m

    Expected: [32m{"address": "test", "domain": "zoho.com", "full": "test@zoho.com"}[39m
    Received: [31mundefined[39m
[2m[22m
[2m    [0m [90m 135 |[39m           domains[33m:[39m domains[33m,[39m[0m[22m
[2m    [0m [90m 136 |[39m         })[0m[22m
[2m    [0m[31m[1m>[22m[2m[39m[90m 137 |[39m       )[33m.[39mtoEqual({[0m[22m
[2m    [0m [90m     |[39m         [31m[1m^[22m[2m[39m[0m[22m
[2m    [0m [90m 138 |[39m         address[33m:[39m [32m'test'[39m[33m,[39m[0m[22m
[2m    [0m [90m 139 |[39m         domain[33m:[39m [32m'zoho.com'[39m[33m,[39m[0m[22m
[2m    [0m [90m 140 |[39m         full[33m:[39m [32m'test@zoho.com'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36mtest/index.spec.ts[39m[0m[2m:137:9)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K  [2mconsole.log[22m
    domains [
      'google.com',
      'gmail.com',
      'emaildomain.com',
      'comcast.net',
      'facebook.com',
      'msn.com',
      'zoho.com'
    ]
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:33:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    email.domain yaho.com
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:34:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    closestDomain zoho.com
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:41:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domains [
      'google.com',
      'gmail.com',
      'emaildomain.com',
      'comcast.net',
      'facebook.com',
      'msn.com',
      'zoho.com'
    ]
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:33:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    email.domain zopo.com
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:34:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    closestDomain zoho.com
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:41:11)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K[1m[2mRunning coverage on untested files...[22m[22m[999D[K------------------------------|---------|----------|---------|---------|-------------------
File                          | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------------------------|---------|----------|---------|---------|-------------------
[32;1mAll files                    [0m | [32;1m  85.96[0m | [33;1m   73.53[0m | [32;1m    100[0m | [32;1m  85.32[0m | [31;1m                 [0m 
[31;1m src                         [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m                 [0m 
[31;1m  index.ts                   [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m1-9              [0m 
[32;1m src/lib                     [0m | [32;1m  85.71[0m | [33;1m    69.7[0m | [32;1m    100[0m | [32;1m  85.71[0m | [31;1m                 [0m 
[32;1m  run.ts                     [0m | [32;1m  83.33[0m | [33;1m      70[0m | [32;1m    100[0m | [32;1m  83.33[0m | [31;1m12,15            [0m 
[32;1m  suggest-email.ts           [0m | [32;1m  86.67[0m | [33;1m   69.57[0m | [32;1m    100[0m | [32;1m  86.67[0m | [31;1m11,29,92-96      [0m 
[32;1m src/lib/config              [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  index.ts                   [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m src/lib/helpers             [0m | [32;1m  90.16[0m | [33;1m   77.14[0m | [32;1m    100[0m | [32;1m  89.66[0m | [31;1m                 [0m 
[32;1m  asser-valid-user-options.ts[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[33;1m  assert.ts                  [0m | [33;1m  66.67[0m | [33;1m      50[0m | [32;1m    100[0m | [33;1m  66.67[0m | [31;1m3                [0m 
[32;1m  distance-function.ts       [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  encode-email.ts            [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  find-closest-domain.ts     [0m | [32;1m  94.12[0m | [32;1m   84.62[0m | [32;1m    100[0m | [32;1m  93.75[0m | [31;1m19               [0m 
[32;1m  get-options.ts             [0m | [32;1m    100[0m | [32;1m   91.67[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m7                [0m 
[32;1m  parse-email.ts             [0m | [32;1m     84[0m | [33;1m      50[0m | [32;1m    100[0m | [32;1m  82.61[0m | [31;1m11,16,30,33      [0m 
[32;1m  trim.ts                    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
------------------------------|---------|----------|---------|---------|-------------------
[1mTest Suites: [22m[1m[31m1 failed[39m[22m, 1 total
[1mTests:       [22m[1m[31m1 failed[39m[22m, [1m[33m14 skipped[39m[22m, 15 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        0.801 s, estimated 1 s
[2mRan all test suites[22m[2m.[22m
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[?2004l
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[H[2J[0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [Knpm run test[?2004l

> @zootools/email-spell-checker@1.2.0 test
> jest --coverage

[1m[2mDetermining test suites to run...[22m[22m[999D[K
[K[1A[999D[K
[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1ABrowserslist: caniuse-lite is outdated. Please run:
  npx browserslist@latest --update-db
  Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[0m[7m[1m[31m FAIL [39m[22m[27m[0m ]8;;file:///Users/jorgeferreiro/Documents/GitHub/mail-spell-checker/test/index.spec.ts[2mtest/[22m[1mindex.spec.ts[22m]8;;

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A  mailSpellChecker

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    run

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [31mâœ•[39m [2mvalidates common emails (20 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'suggested' callback with the element and result when there's a suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'empty' callback with the element when there's no suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'empty' callback with the element when email is empty[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns the result when 'suggested' callback is not defined[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped takes in an array of specified domains[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    parseEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns a hash of the address, the domain, and the top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped splits RFC compliant emails[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns false for email addresses that are not RFC compliant[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped trims spaces from the start and end of the string[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      findClosestDomain

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar second-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    encodeEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped escapes the element's value[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped allows valid special characters[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[1m[31m  [1mâ— [22m[1mmailSpellChecker â€º run â€º validates common emails[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoEqual[2m([22m[32mexpected[39m[2m) // deep equality[22m

    Expected: [32m{"address": "test", "domain": "zoho.com", "full": "test@zoho.com"}[39m
    Received: [31mundefined[39m
[2m[22m
[2m    [0m [90m 135 |[39m           domains[33m:[39m domains[33m,[39m[0m[22m
[2m    [0m [90m 136 |[39m         })[0m[22m
[2m    [0m[31m[1m>[22m[2m[39m[90m 137 |[39m       )[33m.[39mtoEqual({[0m[22m
[2m    [0m [90m     |[39m         [31m[1m^[22m[2m[39m[0m[22m
[2m    [0m [90m 138 |[39m         address[33m:[39m [32m'test'[39m[33m,[39m[0m[22m
[2m    [0m [90m 139 |[39m         domain[33m:[39m [32m'zoho.com'[39m[33m,[39m[0m[22m
[2m    [0m [90m 140 |[39m         full[33m:[39m [32m'test@zoho.com'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36mtest/index.spec.ts[39m[0m[2m:137:9)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K  [2mconsole.log[22m
    domains [
      'google.com',
      'gmail.com',
      'emaildomain.com',
      'comcast.net',
      'facebook.com',
      'msn.com',
      'zoho.com'
    ]
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:33:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    email.domain yaho.com
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:34:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    closestDomain zoho.com
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:41:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domains [
      'google.com',
      'gmail.com',
      'emaildomain.com',
      'comcast.net',
      'facebook.com',
      'msn.com',
      'zoho.com'
    ]
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:33:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    email.domain zopo.com
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:34:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    closestDomain zoho.com
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:41:11)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K[1m[2mRunning coverage on untested files...[22m[22m[999D[K------------------------------|---------|----------|---------|---------|---------------------
File                          | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s   
------------------------------|---------|----------|---------|---------|---------------------
[32;1mAll files                    [0m | [32;1m  84.75[0m | [33;1m   72.22[0m | [32;1m    100[0m | [32;1m  84.07[0m | [31;1m                   [0m 
[31;1m src                         [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m                   [0m 
[31;1m  index.ts                   [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m1-9                [0m 
[32;1m src/lib                     [0m | [32;1m  82.61[0m | [33;1m   67.57[0m | [32;1m    100[0m | [32;1m  82.61[0m | [31;1m                   [0m 
[32;1m  run.ts                     [0m | [32;1m  83.33[0m | [33;1m      70[0m | [32;1m    100[0m | [32;1m  83.33[0m | [31;1m12,15              [0m 
[32;1m  suggest-email.ts           [0m | [32;1m  82.35[0m | [33;1m   66.67[0m | [32;1m    100[0m | [32;1m  82.35[0m | [31;1m11,29,78-82,100-112[0m 
[32;1m src/lib/config              [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                   [0m 
[32;1m  index.ts                   [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                   [0m 
[32;1m src/lib/helpers             [0m | [32;1m  90.16[0m | [33;1m   77.14[0m | [32;1m    100[0m | [32;1m  89.66[0m | [31;1m                   [0m 
[32;1m  asser-valid-user-options.ts[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                   [0m 
[33;1m  assert.ts                  [0m | [33;1m  66.67[0m | [33;1m      50[0m | [32;1m    100[0m | [33;1m  66.67[0m | [31;1m3                  [0m 
[32;1m  distance-function.ts       [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                   [0m 
[32;1m  encode-email.ts            [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                   [0m 
[32;1m  find-closest-domain.ts     [0m | [32;1m  94.12[0m | [32;1m   84.62[0m | [32;1m    100[0m | [32;1m  93.75[0m | [31;1m19                 [0m 
[32;1m  get-options.ts             [0m | [32;1m    100[0m | [32;1m   91.67[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m7                  [0m 
[32;1m  parse-email.ts             [0m | [32;1m     84[0m | [33;1m      50[0m | [32;1m    100[0m | [32;1m  82.61[0m | [31;1m11,16,30,33        [0m 
[32;1m  trim.ts                    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                   [0m 
------------------------------|---------|----------|---------|---------|---------------------
[1mTest Suites: [22m[1m[31m1 failed[39m[22m, 1 total
[1mTests:       [22m[1m[31m1 failed[39m[22m, [1m[33m14 skipped[39m[22m, 15 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        0.856 s, estimated 1 s
[2mRan all test suites[22m[2m.[22m
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[?2004l
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[H[2J[0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [Knpm run test[?2004l

> @zootools/email-spell-checker@1.2.0 test
> jest --coverage

[1m[2mDetermining test suites to run...[22m[22m[999D[K
[K[1A[999D[K
[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1ABrowserslist: caniuse-lite is outdated. Please run:
  npx browserslist@latest --update-db
  Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[0m[7m[1m[31m FAIL [39m[22m[27m[0m ]8;;file:///Users/jorgeferreiro/Documents/GitHub/mail-spell-checker/test/index.spec.ts[2mtest/[22m[1mindex.spec.ts[22m]8;;

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A  mailSpellChecker

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    run

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [31mâœ•[39m [2mvalidates common emails (22 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'suggested' callback with the element and result when there's a suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'empty' callback with the element when there's no suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'empty' callback with the element when email is empty[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns the result when 'suggested' callback is not defined[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped takes in an array of specified domains[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    parseEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns a hash of the address, the domain, and the top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped splits RFC compliant emails[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns false for email addresses that are not RFC compliant[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped trims spaces from the start and end of the string[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      findClosestDomain

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar second-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    encodeEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped escapes the element's value[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped allows valid special characters[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[1m[31m  [1mâ— [22m[1mmailSpellChecker â€º run â€º validates common emails[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoEqual[2m([22m[32mexpected[39m[2m) // deep equality[22m

    [32m- Expected  - 2[39m
    [31m+ Received  + 2[39m

    [2m  Object {[22m
    [2m    "address": "test",[22m
    [32m-   "domain": "yahoo.com",[39m
    [32m-   "full": "test@yahoo.com",[39m
    [31m+   "domain": "zoho.com",[39m
    [31m+   "full": "test@zoho.com",[39m
    [2m  }[22m
[2m[22m
[2m    [0m [90m 124 |[39m           domains[33m:[39m domains[33m,[39m[0m[22m
[2m    [0m [90m 125 |[39m         })[0m[22m
[2m    [0m[31m[1m>[22m[2m[39m[90m 126 |[39m       )[33m.[39mtoEqual({[0m[22m
[2m    [0m [90m     |[39m         [31m[1m^[22m[2m[39m[0m[22m
[2m    [0m [90m 127 |[39m         address[33m:[39m [32m'test'[39m[33m,[39m[0m[22m
[2m    [0m [90m 128 |[39m         domain[33m:[39m [32m'yahoo.com'[39m[33m,[39m[0m[22m
[2m    [0m [90m 129 |[39m         full[33m:[39m [32m'test@yahoo.com'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36mtest/index.spec.ts[39m[0m[2m:126:9)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K  [2mconsole.log[22m
    domains [
      'google.com',
      'gmail.com',
      'emaildomain.com',
      'comcast.net',
      'facebook.com',
      'msn.com',
      'zoho.com'
    ]
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:33:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    email.domain yaho.com
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:34:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    closestDomain zoho.com
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:41:11)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K[1m[2mRunning coverage on untested files...[22m[22m[999D[K------------------------------|---------|----------|---------|---------|-------------------
File                          | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------------------------|---------|----------|---------|---------|-------------------
[32;1mAll files                    [0m | [32;1m     80[0m | [33;1m   67.52[0m | [32;1m    100[0m | [33;1m  79.29[0m | [31;1m                 [0m 
[31;1m src                         [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m                 [0m 
[31;1m  index.ts                   [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m1-9              [0m 
[33;1m src/lib                     [0m | [33;1m   58.7[0m | [31;1m   37.84[0m | [32;1m    100[0m | [33;1m   58.7[0m | [31;1m                 [0m 
[32;1m  run.ts                     [0m | [32;1m  83.33[0m | [33;1m      60[0m | [32;1m    100[0m | [32;1m  83.33[0m | [31;1m12,15            [0m 
[33;1m  suggest-email.ts           [0m | [33;1m     50[0m | [31;1m   29.63[0m | [32;1m    100[0m | [33;1m     50[0m | [31;1m11,29,46,58-112  [0m 
[32;1m src/lib/config              [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  index.ts                   [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m src/lib/helpers             [0m | [32;1m  89.83[0m | [32;1m   81.25[0m | [32;1m    100[0m | [32;1m  89.47[0m | [31;1m                 [0m 
[32;1m  asser-valid-user-options.ts[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[33;1m  assert.ts                  [0m | [33;1m  66.67[0m | [33;1m      50[0m | [32;1m    100[0m | [33;1m  66.67[0m | [31;1m3                [0m 
[32;1m  distance-function.ts       [0m | [32;1m  93.22[0m | [32;1m   88.89[0m | [32;1m    100[0m | [32;1m   93.1[0m | [31;1m10-13,17         [0m 
[32;1m  encode-email.ts            [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  find-closest-domain.ts     [0m | [32;1m  82.35[0m | [33;1m   69.23[0m | [32;1m    100[0m | [32;1m  81.25[0m | [31;1m19,24,36         [0m 
[32;1m  get-options.ts             [0m | [32;1m    100[0m | [32;1m   91.67[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m7                [0m 
[32;1m  parse-email.ts             [0m | [32;1m     84[0m | [33;1m      50[0m | [32;1m    100[0m | [32;1m  82.61[0m | [31;1m11,16,30,33      [0m 
[32;1m  trim.ts                    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
------------------------------|---------|----------|---------|---------|-------------------
[1mTest Suites: [22m[1m[31m1 failed[39m[22m, 1 total
[1mTests:       [22m[1m[31m1 failed[39m[22m, [1m[33m14 skipped[39m[22m, 15 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        0.934 s, estimated 1 s
[2mRan all test suites[22m[2m.[22m
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[?2004l
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[H[2J[0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [Knpm run test[?2004l

> @zootools/email-spell-checker@1.2.0 test
> jest --coverage

[1m[2mDetermining test suites to run...[22m[22m[999D[K
[K[1A[999D[K
[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1ABrowserslist: caniuse-lite is outdated. Please run:
  npx browserslist@latest --update-db
  Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[0m[7m[1m[31m FAIL [39m[22m[27m[0m ]8;;file:///Users/jorgeferreiro/Documents/GitHub/mail-spell-checker/test/index.spec.ts[2mtest/[22m[1mindex.spec.ts[22m]8;;

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A  mailSpellChecker

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    run

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [31mâœ•[39m [2mvalidates common emails (30 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'suggested' callback with the element and result when there's a suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'empty' callback with the element when there's no suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'empty' callback with the element when email is empty[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns the result when 'suggested' callback is not defined[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped takes in an array of specified domains[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    parseEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns a hash of the address, the domain, and the top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped splits RFC compliant emails[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns false for email addresses that are not RFC compliant[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped trims spaces from the start and end of the string[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      findClosestDomain

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar second-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    encodeEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped escapes the element's value[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped allows valid special characters[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[1m[31m  [1mâ— [22m[1mmailSpellChecker â€º run â€º validates common emails[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoEqual[2m([22m[32mexpected[39m[2m) // deep equality[22m

    [32m- Expected  - 2[39m
    [31m+ Received  + 2[39m

    [2m  Object {[22m
    [2m    "address": "test",[22m
    [32m-   "domain": "yahoo.com",[39m
    [32m-   "full": "test@yahoo.com",[39m
    [31m+   "domain": "zoho.com",[39m
    [31m+   "full": "test@zoho.com",[39m
    [2m  }[22m
[2m[22m
[2m    [0m [90m 124 |[39m           domains[33m:[39m domains[33m,[39m[0m[22m
[2m    [0m [90m 125 |[39m         })[0m[22m
[2m    [0m[31m[1m>[22m[2m[39m[90m 126 |[39m       )[33m.[39mtoEqual({[0m[22m
[2m    [0m [90m     |[39m         [31m[1m^[22m[2m[39m[0m[22m
[2m    [0m [90m 127 |[39m         address[33m:[39m [32m'test'[39m[33m,[39m[0m[22m
[2m    [0m [90m 128 |[39m         domain[33m:[39m [32m'yahoo.com'[39m[33m,[39m[0m[22m
[2m    [0m [90m 129 |[39m         full[33m:[39m [32m'test@yahoo.com'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36mtest/index.spec.ts[39m[0m[2m:126:9)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K  [2mconsole.log[22m
    domains [
      'google.com',
      'gmail.com',
      'emaildomain.com',
      'comcast.net',
      'facebook.com',
      'msn.com',
      'zoho.com'
    ]
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:33:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    email.domain yaho.com
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:34:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    la distancia
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:27:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domain yaho.com
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:28:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domains[i] google.com
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:29:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    dist 5
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:30:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    la distancia
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:27:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domain yaho.com
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:28:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domains[i] gmail.com
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:29:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    dist 4
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:30:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    la distancia
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:27:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domain yaho.com
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:28:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domains[i] emaildomain.com
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:29:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    dist 12
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:30:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    la distancia
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:27:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domain yaho.com
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:28:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domains[i] comcast.net
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:29:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    dist 9
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:30:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    la distancia
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:27:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domain yaho.com
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:28:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domains[i] facebook.com
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:29:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    dist 8
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:30:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    la distancia
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:27:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domain yaho.com
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:28:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domains[i] msn.com
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:29:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    dist 4
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:30:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    la distancia
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:27:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domain yaho.com
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:28:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domains[i] zoho.com
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:29:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    dist 2
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:30:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    closestDomain zoho.com
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:41:11)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K[1m[2mRunning coverage on untested files...[22m[22m[999D[K------------------------------|---------|----------|---------|---------|-------------------
File                          | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------------------------|---------|----------|---------|---------|-------------------
[32;1mAll files                    [0m | [32;1m  80.45[0m | [33;1m   67.52[0m | [32;1m    100[0m | [33;1m  79.77[0m | [31;1m                 [0m 
[31;1m src                         [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m                 [0m 
[31;1m  index.ts                   [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m1-9              [0m 
[33;1m src/lib                     [0m | [33;1m   58.7[0m | [31;1m   37.84[0m | [32;1m    100[0m | [33;1m   58.7[0m | [31;1m                 [0m 
[32;1m  run.ts                     [0m | [32;1m  83.33[0m | [33;1m      60[0m | [32;1m    100[0m | [32;1m  83.33[0m | [31;1m12,15            [0m 
[33;1m  suggest-email.ts           [0m | [33;1m     50[0m | [31;1m   29.63[0m | [32;1m    100[0m | [33;1m     50[0m | [31;1m11,29,46,58-112  [0m 
[32;1m src/lib/config              [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  index.ts                   [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m src/lib/helpers             [0m | [32;1m  90.16[0m | [32;1m   81.25[0m | [32;1m    100[0m | [32;1m  89.83[0m | [31;1m                 [0m 
[32;1m  asser-valid-user-options.ts[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[33;1m  assert.ts                  [0m | [33;1m  66.67[0m | [33;1m      50[0m | [32;1m    100[0m | [33;1m  66.67[0m | [31;1m3                [0m 
[32;1m  distance-function.ts       [0m | [32;1m  93.22[0m | [32;1m   88.89[0m | [32;1m    100[0m | [32;1m   93.1[0m | [31;1m10-13,17         [0m 
[32;1m  encode-email.ts            [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  find-closest-domain.ts     [0m | [32;1m  85.71[0m | [33;1m   69.23[0m | [32;1m    100[0m | [32;1m     85[0m | [31;1m19,24,40         [0m 
[32;1m  get-options.ts             [0m | [32;1m    100[0m | [32;1m   91.67[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m7                [0m 
[32;1m  parse-email.ts             [0m | [32;1m     84[0m | [33;1m      50[0m | [32;1m    100[0m | [32;1m  82.61[0m | [31;1m11,16,30,33      [0m 
[32;1m  trim.ts                    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
------------------------------|---------|----------|---------|---------|-------------------
[1mTest Suites: [22m[1m[31m1 failed[39m[22m, 1 total
[1mTests:       [22m[1m[31m1 failed[39m[22m, [1m[33m14 skipped[39m[22m, 15 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        0.966 s, estimated 1 s
[2mRan all test suites[22m[2m.[22m
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[?2004l
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[H[2J[0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [Knpm run test[?2004l

> @zootools/email-spell-checker@1.2.0 test
> jest --coverage

[1m[2mDetermining test suites to run...[22m[22m[999D[K
[K[1A[999D[K
[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1ABrowserslist: caniuse-lite is outdated. Please run:
  npx browserslist@latest --update-db
  Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[0m[7m[1m[31m FAIL [39m[22m[27m[0m ]8;;file:///Users/jorgeferreiro/Documents/GitHub/mail-spell-checker/test/index.spec.ts[2mtest/[22m[1mindex.spec.ts[22m]8;;

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A  mailSpellChecker

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    run

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [31mâœ•[39m [2mvalidates common emails (26 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'suggested' callback with the element and result when there's a suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'empty' callback with the element when there's no suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'empty' callback with the element when email is empty[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns the result when 'suggested' callback is not defined[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped takes in an array of specified domains[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    parseEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns a hash of the address, the domain, and the top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped splits RFC compliant emails[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns false for email addresses that are not RFC compliant[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped trims spaces from the start and end of the string[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      findClosestDomain

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar second-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    encodeEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped escapes the element's value[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped allows valid special characters[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[1m[31m  [1mâ— [22m[1mmailSpellChecker â€º run â€º validates common emails[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoEqual[2m([22m[32mexpected[39m[2m) // deep equality[22m

    [32m- Expected  - 2[39m
    [31m+ Received  + 2[39m

    [2m  Object {[22m
    [2m    "address": "test",[22m
    [32m-   "domain": "yahoo.com",[39m
    [32m-   "full": "test@yahoo.com",[39m
    [31m+   "domain": "zoho.com",[39m
    [31m+   "full": "test@zoho.com",[39m
    [2m  }[22m
[2m[22m
[2m    [0m [90m 124 |[39m           domains[33m:[39m domains[33m,[39m[0m[22m
[2m    [0m [90m 125 |[39m         })[0m[22m
[2m    [0m[31m[1m>[22m[2m[39m[90m 126 |[39m       )[33m.[39mtoEqual({[0m[22m
[2m    [0m [90m     |[39m         [31m[1m^[22m[2m[39m[0m[22m
[2m    [0m [90m 127 |[39m         address[33m:[39m [32m'test'[39m[33m,[39m[0m[22m
[2m    [0m [90m 128 |[39m         domain[33m:[39m [32m'yahoo.com'[39m[33m,[39m[0m[22m
[2m    [0m [90m 129 |[39m         full[33m:[39m [32m'test@yahoo.com'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36mtest/index.spec.ts[39m[0m[2m:126:9)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K  [2mconsole.log[22m
    domains [
      'google.com',
      'gmail.com',
      'emaildomain.com',
      'comcast.net',
      'facebook.com',
      'msn.com',
      'zoho.com'
    ]
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:33:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    email.domain yaho.com
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:34:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    la distancia
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:27:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domainyaho.com domains[i]google.com dist5
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:28:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    la distancia
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:27:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domainyaho.com domains[i]gmail.com dist4
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:28:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    la distancia
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:27:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domainyaho.com domains[i]emaildomain.com dist12
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:28:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    la distancia
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:27:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domainyaho.com domains[i]comcast.net dist9
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:28:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    la distancia
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:27:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domainyaho.com domains[i]facebook.com dist8
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:28:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    la distancia
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:27:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domainyaho.com domains[i]msn.com dist4
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:28:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    la distancia
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:27:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domainyaho.com domains[i]zoho.com dist2
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:28:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    closestDomain zoho.com
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:41:11)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K[1m[2mRunning coverage on untested files...[22m[22m[999D[K------------------------------|---------|----------|---------|---------|-------------------
File                          | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------------------------|---------|----------|---------|---------|-------------------
[32;1mAll files                    [0m | [32;1m  80.23[0m | [33;1m   67.52[0m | [32;1m    100[0m | [33;1m  79.53[0m | [31;1m                 [0m 
[31;1m src                         [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m                 [0m 
[31;1m  index.ts                   [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m1-9              [0m 
[33;1m src/lib                     [0m | [33;1m   58.7[0m | [31;1m   37.84[0m | [32;1m    100[0m | [33;1m   58.7[0m | [31;1m                 [0m 
[32;1m  run.ts                     [0m | [32;1m  83.33[0m | [33;1m      60[0m | [32;1m    100[0m | [32;1m  83.33[0m | [31;1m12,15            [0m 
[33;1m  suggest-email.ts           [0m | [33;1m     50[0m | [31;1m   29.63[0m | [32;1m    100[0m | [33;1m     50[0m | [31;1m11,29,46,58-112  [0m 
[32;1m src/lib/config              [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  index.ts                   [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m src/lib/helpers             [0m | [32;1m     90[0m | [32;1m   81.25[0m | [32;1m    100[0m | [32;1m  89.66[0m | [31;1m                 [0m 
[32;1m  asser-valid-user-options.ts[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[33;1m  assert.ts                  [0m | [33;1m  66.67[0m | [33;1m      50[0m | [32;1m    100[0m | [33;1m  66.67[0m | [31;1m3                [0m 
[32;1m  distance-function.ts       [0m | [32;1m  93.22[0m | [32;1m   88.89[0m | [32;1m    100[0m | [32;1m   93.1[0m | [31;1m10-13,17         [0m 
[32;1m  encode-email.ts            [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  find-closest-domain.ts     [0m | [32;1m  84.21[0m | [33;1m   69.23[0m | [32;1m    100[0m | [32;1m  83.33[0m | [31;1m19,24,40         [0m 
[32;1m  get-options.ts             [0m | [32;1m    100[0m | [32;1m   91.67[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m7                [0m 
[32;1m  parse-email.ts             [0m | [32;1m     84[0m | [33;1m      50[0m | [32;1m    100[0m | [32;1m  82.61[0m | [31;1m11,16,30,33      [0m 
[32;1m  trim.ts                    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
------------------------------|---------|----------|---------|---------|-------------------
[1mTest Suites: [22m[1m[31m1 failed[39m[22m, 1 total
[1mTests:       [22m[1m[31m1 failed[39m[22m, [1m[33m14 skipped[39m[22m, 15 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        0.851 s, estimated 1 s
[2mRan all test suites[22m[2m.[22m
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004hnpm run test[?2004l

> @zootools/email-spell-checker@1.2.0 test
> jest --coverage

[1m[2mDetermining test suites to run...[22m[22m[999D[K
[K[1A[999D[K
[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1ABrowserslist: caniuse-lite is outdated. Please run:
  npx browserslist@latest --update-db
  Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[0m[7m[1m[31m FAIL [39m[22m[27m[0m ]8;;file:///Users/jorgeferreiro/Documents/GitHub/mail-spell-checker/test/index.spec.ts[2mtest/[22m[1mindex.spec.ts[22m]8;;

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A  mailSpellChecker

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    run

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [31mâœ•[39m [2mvalidates common emails (25 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'suggested' callback with the element and result when there's a suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'empty' callback with the element when there's no suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'empty' callback with the element when email is empty[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns the result when 'suggested' callback is not defined[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped takes in an array of specified domains[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    parseEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns a hash of the address, the domain, and the top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped splits RFC compliant emails[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns false for email addresses that are not RFC compliant[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped trims spaces from the start and end of the string[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      findClosestDomain

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar second-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    encodeEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped escapes the element's value[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped allows valid special characters[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[1m[31m  [1mâ— [22m[1mmailSpellChecker â€º run â€º validates common emails[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoEqual[2m([22m[32mexpected[39m[2m) // deep equality[22m

    [32m- Expected  - 2[39m
    [31m+ Received  + 2[39m

    [2m  Object {[22m
    [2m    "address": "test",[22m
    [32m-   "domain": "yahoo.com",[39m
    [32m-   "full": "test@yahoo.com",[39m
    [31m+   "domain": "zoho.com",[39m
    [31m+   "full": "test@zoho.com",[39m
    [2m  }[22m
[2m[22m
[2m    [0m [90m 124 |[39m           domains[33m:[39m domains[33m,[39m[0m[22m
[2m    [0m [90m 125 |[39m         })[0m[22m
[2m    [0m[31m[1m>[22m[2m[39m[90m 126 |[39m       )[33m.[39mtoEqual({[0m[22m
[2m    [0m [90m     |[39m         [31m[1m^[22m[2m[39m[0m[22m
[2m    [0m [90m 127 |[39m         address[33m:[39m [32m'test'[39m[33m,[39m[0m[22m
[2m    [0m [90m 128 |[39m         domain[33m:[39m [32m'yahoo.com'[39m[33m,[39m[0m[22m
[2m    [0m [90m 129 |[39m         full[33m:[39m [32m'test@yahoo.com'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36mtest/index.spec.ts[39m[0m[2m:126:9)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K  [2mconsole.log[22m
    domains [
      'google.com',
      'gmail.com',
      'emaildomain.com',
      'comcast.net',
      'facebook.com',
      'msn.com',
      'zoho.com'
    ]
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:33:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    email.domain yaho.com
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:34:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    la distancia
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:27:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domainyaho.com domains[i]google.com dist5
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:28:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    la distancia
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:27:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domainyaho.com domains[i]gmail.com dist4
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:28:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    la distancia
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:27:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domainyaho.com domains[i]emaildomain.com dist12
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:28:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    la distancia
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:27:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domainyaho.com domains[i]comcast.net dist9
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:28:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    la distancia
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:27:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domainyaho.com domains[i]facebook.com dist8
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:28:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    la distancia
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:27:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domainyaho.com domains[i]msn.com dist4
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:28:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    la distancia
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:27:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domainyaho.com domains[i]zoho.com dist2
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:28:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    closestDomain zoho.com
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:41:11)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K[1m[2mRunning coverage on untested files...[22m[22m[999D[K------------------------------|---------|----------|---------|---------|-------------------
File                          | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------------------------|---------|----------|---------|---------|-------------------
[32;1mAll files                    [0m | [32;1m  80.23[0m | [33;1m    68.1[0m | [32;1m    100[0m | [33;1m  79.53[0m | [31;1m                 [0m 
[31;1m src                         [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m                 [0m 
[31;1m  index.ts                   [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m1-9              [0m 
[33;1m src/lib                     [0m | [33;1m   58.7[0m | [31;1m   37.84[0m | [32;1m    100[0m | [33;1m   58.7[0m | [31;1m                 [0m 
[32;1m  run.ts                     [0m | [32;1m  83.33[0m | [33;1m      60[0m | [32;1m    100[0m | [32;1m  83.33[0m | [31;1m12,15            [0m 
[33;1m  suggest-email.ts           [0m | [33;1m     50[0m | [31;1m   29.63[0m | [32;1m    100[0m | [33;1m     50[0m | [31;1m11,29,46,58-112  [0m 
[32;1m src/lib/config              [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  index.ts                   [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m src/lib/helpers             [0m | [32;1m     90[0m | [32;1m   82.28[0m | [32;1m    100[0m | [32;1m  89.66[0m | [31;1m                 [0m 
[32;1m  asser-valid-user-options.ts[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[33;1m  assert.ts                  [0m | [33;1m  66.67[0m | [33;1m      50[0m | [32;1m    100[0m | [33;1m  66.67[0m | [31;1m3                [0m 
[32;1m  distance-function.ts       [0m | [32;1m  93.22[0m | [32;1m   88.89[0m | [32;1m    100[0m | [32;1m   93.1[0m | [31;1m10-13,17         [0m 
[32;1m  encode-email.ts            [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  find-closest-domain.ts     [0m | [32;1m  84.21[0m | [33;1m      75[0m | [32;1m    100[0m | [32;1m  83.33[0m | [31;1m19,24,40         [0m 
[32;1m  get-options.ts             [0m | [32;1m    100[0m | [32;1m   91.67[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m7                [0m 
[32;1m  parse-email.ts             [0m | [32;1m     84[0m | [33;1m      50[0m | [32;1m    100[0m | [32;1m  82.61[0m | [31;1m11,16,30,33      [0m 
[32;1m  trim.ts                    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
------------------------------|---------|----------|---------|---------|-------------------
[1mTest Suites: [22m[1m[31m1 failed[39m[22m, 1 total
[1mTests:       [22m[1m[31m1 failed[39m[22m, [1m[33m14 skipped[39m[22m, 15 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        0.837 s, estimated 1 s
[2mRan all test suites[22m[2m.[22m
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[?2004l
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[H[2J[0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [Knpm run test[?2004l

> @zootools/email-spell-checker@1.2.0 test
> jest --coverage

[1m[2mDetermining test suites to run...[22m[22m[999D[K
[K[1A[999D[K
[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1ABrowserslist: caniuse-lite is outdated. Please run:
  npx browserslist@latest --update-db
  Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[0m[7m[1m[31m FAIL [39m[22m[27m[0m ]8;;file:///Users/jorgeferreiro/Documents/GitHub/mail-spell-checker/test/index.spec.ts[2mtest/[22m[1mindex.spec.ts[22m]8;;

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A  mailSpellChecker

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    run

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [31mâœ•[39m [2mvalidates common emails (26 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'suggested' callback with the element and result when there's a suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'empty' callback with the element when there's no suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'empty' callback with the element when email is empty[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns the result when 'suggested' callback is not defined[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped takes in an array of specified domains[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    parseEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns a hash of the address, the domain, and the top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped splits RFC compliant emails[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns false for email addresses that are not RFC compliant[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped trims spaces from the start and end of the string[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      findClosestDomain

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar second-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    encodeEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped escapes the element's value[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped allows valid special characters[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[1m[31m  [1mâ— [22m[1mmailSpellChecker â€º run â€º validates common emails[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoEqual[2m([22m[32mexpected[39m[2m) // deep equality[22m

    [32m- Expected  - 2[39m
    [31m+ Received  + 2[39m

    [2m  Object {[22m
    [2m    "address": "test",[22m
    [32m-   "domain": "yahoo.com",[39m
    [32m-   "full": "test@yahoo.com",[39m
    [31m+   "domain": "zoho.com",[39m
    [31m+   "full": "test@zoho.com",[39m
    [2m  }[22m
[2m[22m
[2m    [0m [90m 124 |[39m           domains[33m:[39m domains[33m,[39m[0m[22m
[2m    [0m [90m 125 |[39m         })[0m[22m
[2m    [0m[31m[1m>[22m[2m[39m[90m 126 |[39m       )[33m.[39mtoEqual({[0m[22m
[2m    [0m [90m     |[39m         [31m[1m^[22m[2m[39m[0m[22m
[2m    [0m [90m 127 |[39m         address[33m:[39m [32m'test'[39m[33m,[39m[0m[22m
[2m    [0m [90m 128 |[39m         domain[33m:[39m [32m'yahoo.com'[39m[33m,[39m[0m[22m
[2m    [0m [90m 129 |[39m         full[33m:[39m [32m'test@yahoo.com'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36mtest/index.spec.ts[39m[0m[2m:126:9)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K  [2mconsole.log[22m
    domains [
      'google.com',
      'gmail.com',
      'emaildomain.com',
      'comcast.net',
      'facebook.com',
      'msn.com',
      'zoho.com'
    ]
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:33:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    email.domain yaho.com
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:34:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    la distancia
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:27:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domainyaho.com domains[i]google.com dist5
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:28:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    la distancia
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:27:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domainyaho.com domains[i]gmail.com dist4
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:28:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    la distancia
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:27:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domainyaho.com domains[i]emaildomain.com dist12
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:28:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    la distancia
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:27:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domainyaho.com domains[i]comcast.net dist9
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:28:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    la distancia
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:27:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domainyaho.com domains[i]facebook.com dist8
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:28:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    la distancia
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:27:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domainyaho.com domains[i]msn.com dist4
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:28:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    la distancia
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:27:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domainyaho.com domains[i]zoho.com dist2
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:28:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    threshold 2
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:37:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    closestDomain zoho.com
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:41:11)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K[1m[2mRunning coverage on untested files...[22m[22m[999D[K------------------------------|---------|----------|---------|---------|-------------------
File                          | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------------------------|---------|----------|---------|---------|-------------------
[32;1mAll files                    [0m | [32;1m  80.34[0m | [33;1m    68.1[0m | [32;1m    100[0m | [33;1m  79.65[0m | [31;1m                 [0m 
[31;1m src                         [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m                 [0m 
[31;1m  index.ts                   [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m1-9              [0m 
[33;1m src/lib                     [0m | [33;1m   58.7[0m | [31;1m   37.84[0m | [32;1m    100[0m | [33;1m   58.7[0m | [31;1m                 [0m 
[32;1m  run.ts                     [0m | [32;1m  83.33[0m | [33;1m      60[0m | [32;1m    100[0m | [32;1m  83.33[0m | [31;1m12,15            [0m 
[33;1m  suggest-email.ts           [0m | [33;1m     50[0m | [31;1m   29.63[0m | [32;1m    100[0m | [33;1m     50[0m | [31;1m11,29,46,58-112  [0m 
[32;1m src/lib/config              [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  index.ts                   [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m src/lib/helpers             [0m | [32;1m  90.08[0m | [32;1m   82.28[0m | [32;1m    100[0m | [32;1m  89.74[0m | [31;1m                 [0m 
[32;1m  asser-valid-user-options.ts[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[33;1m  assert.ts                  [0m | [33;1m  66.67[0m | [33;1m      50[0m | [32;1m    100[0m | [33;1m  66.67[0m | [31;1m3                [0m 
[32;1m  distance-function.ts       [0m | [32;1m  93.22[0m | [32;1m   88.89[0m | [32;1m    100[0m | [32;1m   93.1[0m | [31;1m10-13,17         [0m 
[32;1m  encode-email.ts            [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  find-closest-domain.ts     [0m | [32;1m     85[0m | [33;1m      75[0m | [32;1m    100[0m | [32;1m  84.21[0m | [31;1m19,24,42         [0m 
[32;1m  get-options.ts             [0m | [32;1m    100[0m | [32;1m   91.67[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m7                [0m 
[32;1m  parse-email.ts             [0m | [32;1m     84[0m | [33;1m      50[0m | [32;1m    100[0m | [32;1m  82.61[0m | [31;1m11,16,30,33      [0m 
[32;1m  trim.ts                    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
------------------------------|---------|----------|---------|---------|-------------------
[1mTest Suites: [22m[1m[31m1 failed[39m[22m, 1 total
[1mTests:       [22m[1m[31m1 failed[39m[22m, [1m[33m14 skipped[39m[22m, 15 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        0.84 s, estimated 1 s
[2mRan all test suites[22m[2m.[22m
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[?2004l
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[H[2J[0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [Knpm run test[?2004l

> @zootools/email-spell-checker@1.2.0 test
> jest --coverage

[1m[2mDetermining test suites to run...[22m[22m[999D[K
[K[1A[999D[K
[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1ABrowserslist: caniuse-lite is outdated. Please run:
  npx browserslist@latest --update-db
  Why you should do it regularly: https://github.com/browserslist/browserslist#browsers-data-updating

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A
[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[0m[7m[1m[31m FAIL [39m[22m[27m[0m ]8;;file:///Users/jorgeferreiro/Documents/GitHub/mail-spell-checker/test/index.spec.ts[2mtest/[22m[1mindex.spec.ts[22m]8;;

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A  mailSpellChecker

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    run

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [31mâœ•[39m [2mvalidates common emails (26 ms)[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'suggested' callback with the element and result when there's a suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'empty' callback with the element when there's no suggestion[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped calls the 'empty' callback with the element when email is empty[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns the result when 'suggested' callback is not defined[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped takes in an array of specified domains[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    parseEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns a hash of the address, the domain, and the top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped splits RFC compliant emails[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped returns false for email addresses that are not RFC compliant[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped trims spaces from the start and end of the string[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      findClosestDomain

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar second-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A        [33mâ—‹[39m [2mskipped returns the most similar top-level domain[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A    encodeEmail

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped escapes the element's value[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A      [33mâ—‹[39m [2mskipped allows valid special characters[22m

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A

[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[1m[31m  [1mâ— [22m[1mmailSpellChecker â€º run â€º validates common emails[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoEqual[2m([22m[32mexpected[39m[2m) // deep equality[22m

    [32m- Expected  - 2[39m
    [31m+ Received  + 2[39m

    [2m  Object {[22m
    [2m    "address": "test",[22m
    [32m-   "domain": "yahoo.com",[39m
    [32m-   "full": "test@yahoo.com",[39m
    [31m+   "domain": "zoho.com",[39m
    [31m+   "full": "test@zoho.com",[39m
    [2m  }[22m
[2m[22m
[2m    [0m [90m 124 |[39m           domains[33m:[39m domains[33m,[39m[0m[22m
[2m    [0m [90m 125 |[39m         })[0m[22m
[2m    [0m[31m[1m>[22m[2m[39m[90m 126 |[39m       )[33m.[39mtoEqual({[0m[22m
[2m    [0m [90m     |[39m         [31m[1m^[22m[2m[39m[0m[22m
[2m    [0m [90m 127 |[39m         address[33m:[39m [32m'test'[39m[33m,[39m[0m[22m
[2m    [0m [90m 128 |[39m         domain[33m:[39m [32m'yahoo.com'[39m[33m,[39m[0m[22m
[2m    [0m [90m 129 |[39m         full[33m:[39m [32m'test@yahoo.com'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36mtest/index.spec.ts[39m[0m[2m:126:9)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K  [2mconsole.log[22m
    domains [
      'google.com',
      'gmail.com',
      'emaildomain.com',
      'comcast.net',
      'facebook.com',
      'msn.com',
      'zoho.com'
    ]
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:33:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    email.domain yaho.com
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:34:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    la distancia
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:27:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domainyaho.com domains[i]google.com dist5
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:28:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    la distancia
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:27:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domainyaho.com domains[i]gmail.com dist4
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:28:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    la distancia
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:27:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domainyaho.com domains[i]emaildomain.com dist12
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:28:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    la distancia
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:27:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domainyaho.com domains[i]comcast.net dist9
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:28:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    la distancia
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:27:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domainyaho.com domains[i]facebook.com dist8
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:28:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    la distancia
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:27:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domainyaho.com domains[i]msn.com dist4
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:28:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    la distancia
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:27:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    domainyaho.com domains[i]zoho.com dist2
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:28:13)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    threshold 2
[2m[22m
[2m      [2mat Object.findClosestDomain [as default] ([22m[2msrc/lib/helpers/find-closest-domain.ts[2m:37:11)[22m[2m[22m

[999D[K  [2mconsole.log[22m
    closestDomain zoho.com
[2m[22m
[2m      [2mat Object.suggestEmail [as default] ([22m[2msrc/lib/suggest-email.ts[2m:41:11)[22m[2m[22m


[0m[7m[33m[1m RUNS [22m[39m[27m[0m [2mtest/[22m[1mindex.spec.ts[22m
[K[1A[K[1A[999D[K[1m[2mRunning coverage on untested files...[22m[22m[999D[K------------------------------|---------|----------|---------|---------|-------------------
File                          | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
------------------------------|---------|----------|---------|---------|-------------------
[32;1mAll files                    [0m | [32;1m  80.34[0m | [33;1m    68.1[0m | [32;1m    100[0m | [33;1m  79.65[0m | [31;1m                 [0m 
[31;1m src                         [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m                 [0m 
[31;1m  index.ts                   [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m1-9              [0m 
[33;1m src/lib                     [0m | [33;1m   58.7[0m | [31;1m   37.84[0m | [32;1m    100[0m | [33;1m   58.7[0m | [31;1m                 [0m 
[32;1m  run.ts                     [0m | [32;1m  83.33[0m | [33;1m      60[0m | [32;1m    100[0m | [32;1m  83.33[0m | [31;1m12,15            [0m 
[33;1m  suggest-email.ts           [0m | [33;1m     50[0m | [31;1m   29.63[0m | [32;1m    100[0m | [33;1m     50[0m | [31;1m11,29,46,58-112  [0m 
[32;1m src/lib/config              [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  index.ts                   [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m src/lib/helpers             [0m | [32;1m  90.08[0m | [32;1m   82.28[0m | [32;1m    100[0m | [32;1m  89.74[0m | [31;1m                 [0m 
[32;1m  asser-valid-user-options.ts[0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[33;1m  assert.ts                  [0m | [33;1m  66.67[0m | [33;1m      50[0m | [32;1m    100[0m | [33;1m  66.67[0m | [31;1m3                [0m 
[32;1m  distance-function.ts       [0m | [32;1m  93.22[0m | [32;1m   88.89[0m | [32;1m    100[0m | [32;1m   93.1[0m | [31;1m10-13,17         [0m 
[32;1m  encode-email.ts            [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  find-closest-domain.ts     [0m | [32;1m     85[0m | [33;1m      75[0m | [32;1m    100[0m | [32;1m  84.21[0m | [31;1m19,24,42         [0m 
[32;1m  get-options.ts             [0m | [32;1m    100[0m | [32;1m   91.67[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m7                [0m 
[32;1m  parse-email.ts             [0m | [32;1m     84[0m | [33;1m      50[0m | [32;1m    100[0m | [32;1m  82.61[0m | [31;1m11,16,30,33      [0m 
[32;1m  trim.ts                    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
------------------------------|---------|----------|---------|---------|-------------------
[1mTest Suites: [22m[1m[31m1 failed[39m[22m, 1 total
[1mTests:       [22m[1m[31m1 failed[39m[22m, [1m[33m14 skipped[39m[22m, 15 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        0.901 s, estimated 1 s
[2mRan all test suites[22m[2m.[22m
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[?2004l
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[H[2J[0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004l
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[H[2J[0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [Kggit branch[?2004l
[?1h=  ferreiro-improvements[m[m
* [32mmain[m[m
[K[?1l>[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[?2004l
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004h[H[2J[0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [Kggit status[?2004l
On branch main
Your branch is ahead of 'origin/main' by 1 commit.
  (use "git push" to publish your local commits)

Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
	[31mmodified:   src/index.ts[m
	[31mmodified:   test/index.spec.ts[m

Untracked files:
  (use "git add <file>..." to include in what will be committed)
	[31mtypescript[m

no changes added to commit (use "git add" and/or "git commit -a")
[1m[7m%[27m[1m[0m                                                                                                                   [0m[27m[24m[Jjorgeferreiro@c106-53 mail-spell-checker % [K[?2004hggit checkout -b ferrei